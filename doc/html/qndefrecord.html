<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qndefrecord.cpp -->
  <title>Qt 1.2: QNdefRecord Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>QtMobility Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
              <li><a href="modules.html">Modules</a></li>              <li><a href="qtconnectivity.html">QtConnectivity</a></li>
              <li>QNdefRecord</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#macros">Macros</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
<li class="level2"><a href="#creating-specialized-ndef-record-classes">Creating specialized NDEF record classes</a></li>
</ul>
</div>
<h1 class="title">QNdefRecord Class Reference</h1>
<!-- $$$QNdefRecord-brief -->
<p>The QNdefRecord class provides an NFC NDEF record. <a href="#details">More...</a></p>
<!-- @@@QNdefRecord -->
<pre class="highlightedCode brush: cpp"> #include &lt;QNdefRecord&gt;</pre><p>Inherited by <a href="qndefnfctextrecord.html">QNdefNfcTextRecord</a> and <a href="qndefnfcurirecord.html">QNdefNfcUriRecord</a>.</p>
<p>This class was introduced in Qt Mobility 1.2.</p>
<ul>
<li><a href="qndefrecord-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#TypeNameFormat-enum">TypeNameFormat</a></b> { Empty, NfcRtd, Mime, Uri, ExternalRtd, Unknown }</td></tr>
</table>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#QNdefRecord">QNdefRecord</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#QNdefRecord-2">QNdefRecord</a></b> ( const QNdefRecord &amp; <i>other</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#dtor.QNdefRecord">~QNdefRecord</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#id">id</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#isEmpty">isEmpty</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#isRecordType">isRecordType</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#payload">payload</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#setId">setId</a></b> ( const QByteArray &amp; <i>id</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#setPayload">setPayload</a></b> ( const QByteArray &amp; <i>payload</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#setType">setType</a></b> ( const QByteArray &amp; <i>type</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#setTypeNameFormat">setTypeNameFormat</a></b> ( TypeNameFormat <i>typeNameFormat</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#type">type</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> TypeNameFormat </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#typeNameFormat">typeNameFormat</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#operator-not-eq">operator!=</a></b> ( const QNdefRecord &amp; <i>other</i> ) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QNdefRecord &amp; </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#operator-eq">operator=</a></b> ( const QNdefRecord &amp; <i>other</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#operator-eq-eq">operator==</a></b> ( const QNdefRecord &amp; <i>other</i> ) const</td></tr>
</table>
<a name="macros"></a>
<h2>Macros</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD">Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD</a></b> (  <i>className</i>,  <i>typeNameFormat</i>,  <i>type</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qndefrecord.html#Q_DECLARE_NDEF_RECORD">Q_DECLARE_NDEF_RECORD</a></b> (  <i>className</i>,  <i>typeNameFormat</i>,  <i>type</i>,  <i>initialPayload</i> )</td></tr>
</table>
<a name="details"></a>
<!-- $$$QNdefRecord-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The QNdefRecord class provides an NFC NDEF record.</p>
<p>QNdefRecord and derived classes are used to parse the contents of <a href="qndefmessage.html">NDEF messages</a> and create new NDEF messages.</p>
<p>Use <a href="qndefrecord.html#typeNameFormat">typeNameFormat</a>(), userTypeNameFormat(), <a href="qndefrecord.html#setTypeNameFormat">setTypeNameFormat</a>() and setUserTypeNameFormat() to get and set the type name format of the NDEF record.</p>
<p>Use <a href="qndefrecord.html#type">type</a>() and <a href="qndefrecord.html#setType">setType</a>() to get and set the type of the NDEF record.</p>
<p>Use <a href="qndefrecord.html#id">id</a>() and <a href="qndefrecord.html#setId">setId</a>() to get and set the id of the NDEF record.</p>
<p>Use <a href="qndefrecord.html#payload">payload</a>() and <a href="qndefrecord.html#setPayload">setPayload</a>() to get and set the NDEF record payload. <a href="qndefrecord.html#isEmpty">isEmpty</a>() can be used to test if the payload is empty.</p>
<p>QNdefRecord is an implicitly shared class. This means you can efficiently convert between QNdefRecord and specialized record classes. The <a href="qndefrecord.html#isRecordType">isRecordType</a>() template function can be used to test if a conversion is possible. The following example shows how to test if a QNdefRecord is an NFC RTD Text record and extract the text information from it.</p>
<pre class="highlightedCode brush: cpp">     if (record.isRecordType&lt;QNdefNfcTextRecord&gt;()) {
         QNdefNfcTextRecord textRecord(record);

         qDebug() &lt;&lt; textRecord.text();
     }</pre>
<a name="creating-specialized-ndef-record-classes"></a>
<h3>Creating specialized NDEF record classes</h3>
<p>Specialized NDEF record classes can be easily created with the <a href="qndefrecord.html#Q_DECLARE_NDEF_RECORD">Q_DECLARE_NDEF_RECORD</a>() and <a href="qndefrecord.html#Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD">Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD</a>() macros. The following example shows the class declaration of the hypothetical <i>example.com:f</i> record type that encapsulates a single int property foo.</p>
<pre class="highlightedCode brush: cpp"> class ExampleComF : public QNdefRecord
 {
 public:
     Q_DECLARE_NDEF_RECORD(ExampleComF, QNdefRecord::ExternalRtd, &quot;example.com:f&quot;,
                           QByteArray(sizeof(int), char(0)))

     int foo() const;
     void setFoo(int v);
 };

 Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD(ExampleComF, QNdefRecord::ExternalRtd, &quot;example.com:f&quot;)</pre>
<p>The developer only needs to provide implementations for the <tt>foo()</tt> and <tt>setFoo()</tt> functions that parse and set the contents of the NDEF record's payload.</p>
</div>
<!-- @@@QNdefRecord -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$TypeNameFormat$$$Empty$$$NfcRtd$$$Mime$$$Uri$$$ExternalRtd$$$Unknown -->
<h3 class="fn"><a name="TypeNameFormat-enum"></a>enum QNdefRecord::TypeNameFormat</h3>
<p>This enum describes the type name format of an NDEF record.</p>
<table class="valuelist"><tr class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QNdefRecord::Empty</tt></td><td class=" topAlign"><tt>0x00</tt></td><td  class="topAlign">An empty NDEF record, the record does not contain a payload</td></tr>
<tr><td  class="topAlign"><tt>QNdefRecord::NfcRtd</tt></td><td class=" topAlign"><tt>0x01</tt></td><td  class="topAlign">The NDEF record type is defined by an NFC RTD Specification</td></tr>
<tr><td  class="topAlign"><tt>QNdefRecord::Mime</tt></td><td class=" topAlign"><tt>0x02</tt></td><td  class="topAlign">The NDEF record type follows the construct described in RFC 2046</td></tr>
<tr><td  class="topAlign"><tt>QNdefRecord::Uri</tt></td><td class=" topAlign"><tt>0x03</tt></td><td  class="topAlign">The NDEF record type follows the construct described in RFC 3986</td></tr>
<tr><td  class="topAlign"><tt>QNdefRecord::ExternalRtd</tt></td><td class=" topAlign"><tt>0x04</tt></td><td  class="topAlign">The NDEF record type follows the construct for external type names described the NFC RTD Specification</td></tr>
<tr><td  class="topAlign"><tt>QNdefRecord::Unknown</tt></td><td class=" topAlign"><tt>0x05</tt></td><td  class="topAlign">The type of the record is unknown and should be treated similar to content with MIME type 'application/octet-stream' without further context</td></tr>
</table>
<!-- @@@TypeNameFormat -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QNdefRecord[overload1]$$$QNdefRecord -->
<h3 class="fn"><a name="QNdefRecord"></a>QNdefRecord::QNdefRecord ()</h3>
<p>Constructs a new empty NDEF record.</p>
<!-- @@@QNdefRecord -->
<!-- $$$QNdefRecord$$$QNdefRecordconstQNdefRecord& -->
<h3 class="fn"><a name="QNdefRecord-2"></a>QNdefRecord::QNdefRecord ( const QNdefRecord &amp; <i>other</i> )</h3>
<p>Constructs a new NDEF record that is a copy of <i>other</i>.</p>
<!-- @@@QNdefRecord -->
<!-- $$$~QNdefRecord[overload1]$$$~QNdefRecord -->
<h3 class="fn"><a name="dtor.QNdefRecord"></a>QNdefRecord::~QNdefRecord ()</h3>
<p>Destroys the NDEF record.</p>
<!-- @@@~QNdefRecord -->
<!-- $$$id[overload1]$$$id -->
<h3 class="fn"><a name="id"></a><a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> QNdefRecord::id () const</h3>
<p>Returns the id of the NDEF record.</p>
<p>See also <a href="qndefrecord.html#setId">setId</a>().</p>
<!-- @@@id -->
<!-- $$$isEmpty[overload1]$$$isEmpty -->
<h3 class="fn"><a name="isEmpty"></a>bool QNdefRecord::isEmpty () const</h3>
<p>Returns true if the NDEF record contains an empty payload; otherwise return false.</p>
<p>This is equivalent to calling <tt>payload().isEmpty()</tt>.</p>
<!-- @@@isEmpty -->
<!-- $$$isRecordType[overload1]$$$isRecordType -->
<h3 class="fn"><a name="isRecordType"></a>bool QNdefRecord::isRecordType () const</h3>
<p>Returns true if the NDEF record is of the specified record type; otherwise returns false.</p>
<!-- @@@isRecordType -->
<!-- $$$payload[overload1]$$$payload -->
<h3 class="fn"><a name="payload"></a><a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> QNdefRecord::payload () const</h3>
<p>Returns the payload of the NDEF record.</p>
<p>See also <a href="qndefrecord.html#setPayload">setPayload</a>().</p>
<!-- @@@payload -->
<!-- $$$setId[overload1]$$$setIdconstQByteArray& -->
<h3 class="fn"><a name="setId"></a>void QNdefRecord::setId ( const <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> &amp; <i>id</i> )</h3>
<p>Sets the id of the NDEF record to <i>id</i>.</p>
<p>See also <a href="qndefrecord.html#id">id</a>().</p>
<!-- @@@setId -->
<!-- $$$setPayload[overload1]$$$setPayloadconstQByteArray& -->
<h3 class="fn"><a name="setPayload"></a>void QNdefRecord::setPayload ( const <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> &amp; <i>payload</i> )</h3>
<p>Sets the payload of the NDEF record to <i>payload</i>.</p>
<p>See also <a href="qndefrecord.html#payload">payload</a>().</p>
<!-- @@@setPayload -->
<!-- $$$setType[overload1]$$$setTypeconstQByteArray& -->
<h3 class="fn"><a name="setType"></a>void QNdefRecord::setType ( const <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> &amp; <i>type</i> )</h3>
<p>Sets the type of the NDEF record to <i>type</i>.</p>
<p>See also <a href="qndefrecord.html#type">type</a>().</p>
<!-- @@@setType -->
<!-- $$$setTypeNameFormat[overload1]$$$setTypeNameFormatTypeNameFormat -->
<h3 class="fn"><a name="setTypeNameFormat"></a>void QNdefRecord::setTypeNameFormat ( <a href="qndefrecord.html#TypeNameFormat-enum">TypeNameFormat</a> <i>typeNameFormat</i> )</h3>
<p>Sets the type name format of the NDEF record to <i>typeNameFormat</i>.</p>
<p>See also <a href="qndefrecord.html#typeNameFormat">typeNameFormat</a>().</p>
<!-- @@@setTypeNameFormat -->
<!-- $$$type[overload1]$$$type -->
<h3 class="fn"><a name="type"></a><a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> QNdefRecord::type () const</h3>
<p>Returns the type of the NDEF record.</p>
<p>See also <a href="qndefrecord.html#setType">setType</a>().</p>
<!-- @@@type -->
<!-- $$$typeNameFormat[overload1]$$$typeNameFormat -->
<h3 class="fn"><a name="typeNameFormat"></a><a href="qndefrecord.html#TypeNameFormat-enum">TypeNameFormat</a> QNdefRecord::typeNameFormat () const</h3>
<p>Returns the type name format of the NDEF record.</p>
<p>See also <a href="qndefrecord.html#setTypeNameFormat">setTypeNameFormat</a>().</p>
<!-- @@@typeNameFormat -->
<!-- $$$operator!=[overload1]$$$operator!=constQNdefRecord& -->
<h3 class="fn"><a name="operator-not-eq"></a>bool QNdefRecord::operator!= ( const QNdefRecord &amp; <i>other</i> ) const</h3>
<p>Returns true if this NDEF record does not equal <i>other</i>; otherwise return false.</p>
<!-- @@@operator!= -->
<!-- $$$operator=[overload1]$$$operator=constQNdefRecord& -->
<h3 class="fn"><a name="operator-eq"></a>QNdefRecord &amp; QNdefRecord::operator= ( const QNdefRecord &amp; <i>other</i> )</h3>
<p>Assigns this NDEF record to <i>other</i>.</p>
<!-- @@@operator= -->
<!-- $$$operator==[overload1]$$$operator==constQNdefRecord& -->
<h3 class="fn"><a name="operator-eq-eq"></a>bool QNdefRecord::operator== ( const QNdefRecord &amp; <i>other</i> ) const</h3>
<p>Returns true if <i>other</i> and this NDEF record are the same.</p>
<!-- @@@operator== -->
</div>
<div class="macros">
<h2>Macro Documentation</h2>
<!-- $$$Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD[overload1]$$$Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD -->
<h3 class="fn"><a name="Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD"></a>Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD (  <i>className</i>,  <i>typeNameFormat</i>,  <i>type</i> )</h3>
<p>This macro declares a template specialization for the <a href="qndefrecord.html#isRecordType">QNdefRecord::isRecordType</a>() function.</p>
<p>This macro should be used in the header file directly after the definition of a specialized NDEF record class.</p>
<p><i>className</i> is the name of the specialized class, <i>typeNameFormat</i> is the appropriate <a href="qndefrecord.html#TypeNameFormat-enum">QNdefRecord::TypeNameFormat</a> for the custom type and <i>type</i> is the type without the NID or NSS prefixes. That is <i>example.com:f</i> not <i>urn:nfc:ext:example.com:f</i>.</p>
<p>See the secton on <a href="qndefrecord.html#creating-specialized-ndef-record-classes">Creating specialized NDEF record classes</a> for details.</p>
<p>See also <a href="qndefrecord.html#Q_DECLARE_NDEF_RECORD">Q_DECLARE_NDEF_RECORD</a>().</p>
<!-- @@@Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD -->
<!-- $$$Q_DECLARE_NDEF_RECORD[overload1]$$$Q_DECLARE_NDEF_RECORD -->
<h3 class="fn"><a name="Q_DECLARE_NDEF_RECORD"></a>Q_DECLARE_NDEF_RECORD (  <i>className</i>,  <i>typeNameFormat</i>,  <i>type</i>,  <i>initialPayload</i> )</h3>
<p>This macro declares default and copy constructors for specialized NDEF record classes.</p>
<p><i>className</i> is the name of the specialized class, <i>typeNameFormat</i> is the appropriate <a href="qndefrecord.html#TypeNameFormat-enum">QNdefRecord::TypeNameFormat</a> for the custom type and <i>type</i> is the type without the NID or NSS prefixes. That is <i>example.com:f</i> not <i>urn:nfc:ext:example.com:f</i>. <i>initialPayload</i> is the initial payload of an empty record, it must be a <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> or a type that can be implicitly converted into a <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a>.</p>
<p>See the section on <a href="qndefrecord.html#creating-specialized-ndef-record-classes">Creating specialized NDEF record classes</a> for details.</p>
<p>See also <a href="qndefrecord.html#Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD">Q_DECLARE_ISRECORDTYPE_FOR_NDEF_RECORD</a>().</p>
<!-- @@@Q_DECLARE_NDEF_RECORD -->
</div>
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
