<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qbluetoothservicediscoveryagent.cpp -->
  <title>Qt 1.2: QBluetoothServiceDiscoveryAgent Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>QtMobility Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
              <li><a href="modules.html">Modules</a></li>              <li><a href="qtconnectivity.html">QtConnectivity</a></li>
              <li>QBluetoothServiceDiscoveryAgent</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QBluetoothServiceDiscoveryAgent Class Reference</h1>
<!-- $$$QBluetoothServiceDiscoveryAgent-brief -->
<p>The QBluetoothServiceDiscoveryAgent class provides an API for querying the services provided by a Bluetooth device. <a href="#details">More...</a></p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<pre class="highlightedCode brush: cpp"> #include &lt;QBluetoothServiceDiscoveryAgent&gt;</pre><p>Inherits <a href="http://qt.nokia.com/doc/4.7/qobject.html">QObject</a>.</p>
<p>This class was introduced in Qt Mobility 1.2.</p>
<ul>
<li><a href="qbluetoothservicediscoveryagent-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">DiscoveryMode</a></b> { MinimalDiscovery, FullDiscovery }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#Error-enum">Error</a></b> { NoError, Canceled, DeviceDiscoveryError, UnknownError }</td></tr>
</table>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#QBluetoothServiceDiscoveryAgent">QBluetoothServiceDiscoveryAgent</a></b> ( QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#QBluetoothServiceDiscoveryAgent-2">QBluetoothServiceDiscoveryAgent</a></b> ( const QBluetoothAddress &amp; <i>remoteAddress</i>, QObject * <i>parent</i> = 0 )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#dtor.QBluetoothServiceDiscoveryAgent">~QBluetoothServiceDiscoveryAgent</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QBluetoothServiceInfo&gt; </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#discoveredServices">discoveredServices</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Error </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#error">error</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#errorString">errorString</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#isActive">isActive</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#setUuidFilter">setUuidFilter</a></b> ( const QList&lt;QBluetoothUuid&gt; &amp; <i>uuids</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#setUuidFilter-2">setUuidFilter</a></b> ( const QBluetoothUuid &amp; <i>uuid</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QBluetoothUuid&gt; </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#uuidFilter">uuidFilter</a></b> () const</td></tr>
</table>
<ul>
<li class="fn">29 public functions inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#clear">clear</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#start">start</a></b> ( DiscoveryMode <i>mode</i> = MinimalDiscovery )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#stop">stop</a></b> ()</td></tr>
</table>
<ul>
<li class="fn">1 public slot inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#canceled">canceled</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#error-2">error</a></b> ( QBluetoothServiceDiscoveryAgent::Error <i>error</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#finished">finished</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qbluetoothservicediscoveryagent.html#serviceDiscovered">serviceDiscovered</a></b> ( const QBluetoothServiceInfo &amp; <i>info</i> )</td></tr>
</table>
<ul>
<li class="fn">1 signal inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li class="fn">1 property inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#properties">QObject</a></li>
<li class="fn">1 public variable inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-variables">QObject</a></li>
<li class="fn">4 static public members inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#static-public-members">QObject</a></li>
<li class="fn">7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#protected-functions">QObject</a></li>
<li class="fn">2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<!-- $$$QBluetoothServiceDiscoveryAgent-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The QBluetoothServiceDiscoveryAgent class provides an API for querying the services provided by a Bluetooth device.</p>
<p>To query the services provided by all contactable Bluetooth devices create an instance of QBluetoothServiceDiscoveryAgent, connect to either the <a href="qbluetoothservicediscoveryagent.html#serviceDiscovered">serviceDiscovered</a>() or <a href="qbluetoothservicediscoveryagent.html#finished">finished</a>() signals and call <a href="qbluetoothservicediscoveryagent.html#start">start</a>().</p>
<pre class="highlightedCode brush: cpp">     QBluetoothServiceDiscoveryAgent *discoveryAgent = new QBluetoothServiceDiscoveryAgent(this);

     connect(discoveryAgent, SIGNAL(serviceDiscovered(const QBluetoothServiceInfo&amp;)),
             this, SLOT(serviceDiscovered(const QBluetoothServiceInfo&amp;)));

     <span class="comment">// Automatically delete agent when service discovery finishes.</span>
     connect(discoveryAgent, SIGNAL(finished()), this, SLOT(deleteLater()));

     discoveryAgent-&gt;start();</pre>
<p>By default a minimal service discovery is performed. In this mode the QBluetotohServiceInfo objects returned are guaranteed to contain only device and service UUID information. Depending on platform and device capabilities other service information may also be available. For most use cases this is adequate as <a href="qbluetoothsocket.html#connectToService">QBluetoothSocket::connectToService</a>() will perform additional discovery if required. If full service information is required pass <a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">FullDiscovery</a> as the discoveryMode parameter to <a href="qbluetoothservicediscoveryagent.html#start">start</a>().</p>
</div>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$DiscoveryMode$$$MinimalDiscovery$$$FullDiscovery -->
<h3 class="fn"><a name="DiscoveryMode-enum"></a>enum QBluetoothServiceDiscoveryAgent::DiscoveryMode</h3>
<p>This enum describes the service discovery mode.</p>
<table class="valuelist"><tr class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QBluetoothServiceDiscoveryAgent::MinimalDiscovery</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">Performs a minimal service discovery. The <a href="qbluetoothserviceinfo.html">QBluetoothServiceInfo</a> objects returned may be incomplete and are only guaranteed to contain device and service UUID information.</td></tr>
<tr><td  class="topAlign"><tt>QBluetoothServiceDiscoveryAgent::FullDiscovery</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">Performs a full service discovery.</td></tr>
</table>
<!-- @@@DiscoveryMode -->
<!-- $$$Error$$$NoError$$$DeviceDiscoveryError$$$UnknownError -->
<h3 class="fn"><a name="Error-enum"></a>enum QBluetoothServiceDiscoveryAgent::Error</h3>
<p>This enum describes errors that can occur during service discovery.</p>
<table class="valuelist"><tr class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QBluetoothServiceDiscoveryAgent::NoError</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">No error.</td></tr>
<tr><td  class="topAlign"><tt>QBluetoothServiceDiscoveryAgent::Canceled</tt></td><td class=" topAlign">?</td><td  class="topAlign">Service discovery was canceled.</td></tr>
<tr><td  class="topAlign"><tt>QBluetoothServiceDiscoveryAgent::DeviceDiscoveryError</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">Error occurred during device discovery.</td></tr>
<tr><td  class="topAlign"><tt>QBluetoothServiceDiscoveryAgent::UnknownError</tt></td><td class=" topAlign"><tt>100</tt></td><td  class="topAlign">An unidentified error occurred.</td></tr>
</table>
<!-- @@@Error -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QBluetoothServiceDiscoveryAgent[overload1]$$$QBluetoothServiceDiscoveryAgentQObject* -->
<h3 class="fn"><a name="QBluetoothServiceDiscoveryAgent"></a>QBluetoothServiceDiscoveryAgent::QBluetoothServiceDiscoveryAgent ( <a href="http://qt.nokia.com/doc/4.7/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new <a href="qbluetoothservicediscoveryagent.html">QBluetoothServiceDiscoveryAgent</a> with <i>parent</i>. Services will be discovered on all contactable devices.</p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<!-- $$$QBluetoothServiceDiscoveryAgent$$$QBluetoothServiceDiscoveryAgentconstQBluetoothAddress&QObject* -->
<h3 class="fn"><a name="QBluetoothServiceDiscoveryAgent-2"></a>QBluetoothServiceDiscoveryAgent::QBluetoothServiceDiscoveryAgent ( const <a href="qbluetoothaddress.html">QBluetoothAddress</a> &amp; <i>remoteAddress</i>, <a href="http://qt.nokia.com/doc/4.7/qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new <a href="qbluetoothservicediscoveryagent.html">QBluetoothServiceDiscoveryAgent</a> for <i>remoteAddress</i> and with <i>parent</i>.</p>
<p>If <i>remoteAddress</i> is null services will be discovred on all contactable Bluetooth devices.</p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<!-- $$$~QBluetoothServiceDiscoveryAgent[overload1]$$$~QBluetoothServiceDiscoveryAgent -->
<h3 class="fn"><a name="dtor.QBluetoothServiceDiscoveryAgent"></a>QBluetoothServiceDiscoveryAgent::~QBluetoothServiceDiscoveryAgent ()</h3>
<p>Destructor for <a href="qbluetoothservicediscoveryagent.html">QBluetoothServiceDiscoveryAgent</a></p>
<!-- @@@~QBluetoothServiceDiscoveryAgent -->
<!-- $$$canceled[overload1]$$$canceled -->
<h3 class="fn"><a name="canceled"></a>void QBluetoothServiceDiscoveryAgent::canceled ()<tt> [signal]</tt></h3>
<!-- @@@canceled -->
<!-- $$$clear[overload1]$$$clear -->
<h3 class="fn"><a name="clear"></a>void QBluetoothServiceDiscoveryAgent::clear ()<tt> [slot]</tt></h3>
<p>Clears the results of a previous service discovery.</p>
<!-- @@@clear -->
<!-- $$$discoveredServices[overload1]$$$discoveredServices -->
<h3 class="fn"><a name="discoveredServices"></a><a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qbluetoothserviceinfo.html">QBluetoothServiceInfo</a>&gt; QBluetoothServiceDiscoveryAgent::discoveredServices () const</h3>
<p>Returns the list of all discovered services.</p>
<!-- @@@discoveredServices -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn"><a name="error"></a><a href="qbluetoothservicediscoveryagent.html#Error-enum">Error</a> QBluetoothServiceDiscoveryAgent::error () const</h3>
<p>Returns the type of error that last occurred. If service discovery is done on a signle address it will returns errors when trying to discover services on that device. If the alternate constructor is used and devices are discovered by a scan, then errors doing service discovery on individual devices are not saved and no signals are emitted. In this case errors are fairly normal since some devices may not respond to discovery or may no longer be in range. As such errors are surpressed. If no services are returned, it can be assumed no services could be discovered.</p>
<!-- @@@error -->
<!-- $$$error$$$errorQBluetoothServiceDiscoveryAgent::Error -->
<h3 class="fn"><a name="error-2"></a>void QBluetoothServiceDiscoveryAgent::error ( <a href="qbluetoothservicediscoveryagent.html#Error-enum">QBluetoothServiceDiscoveryAgent::Error</a> <i>error</i> )<tt> [signal]</tt></h3>
<p>This signal is emitted when an error occurs. The <i>error</i> parameter describes the error that occurred.</p>
<!-- @@@error -->
<!-- $$$errorString[overload1]$$$errorString -->
<h3 class="fn"><a name="errorString"></a><a href="http://qt.nokia.com/doc/4.7/qstring.html">QString</a> QBluetoothServiceDiscoveryAgent::errorString () const</h3>
<p>Returns a human-readable description of the last error that occurred when doing service discovery on a single device.</p>
<!-- @@@errorString -->
<!-- $$$finished[overload1]$$$finished -->
<h3 class="fn"><a name="finished"></a>void QBluetoothServiceDiscoveryAgent::finished ()<tt> [signal]</tt></h3>
<p>This signal is emitted when Bluetooth service discovery completes.</p>
<!-- @@@finished -->
<!-- $$$isActive[overload1]$$$isActive -->
<h3 class="fn"><a name="isActive"></a>bool QBluetoothServiceDiscoveryAgent::isActive () const</h3>
<p>Returns true if service discovery is currently active, otherwise returns false.</p>
<!-- @@@isActive -->
<!-- $$$serviceDiscovered[overload1]$$$serviceDiscoveredconstQBluetoothServiceInfo& -->
<h3 class="fn"><a name="serviceDiscovered"></a>void QBluetoothServiceDiscoveryAgent::serviceDiscovered ( const <a href="qbluetoothserviceinfo.html">QBluetoothServiceInfo</a> &amp; <i>info</i> )<tt> [signal]</tt></h3>
<p>This signal is emitted when the Bluetooth service described by <i>info</i> is discovered.</p>
<!-- @@@serviceDiscovered -->
<!-- $$$setUuidFilter[overload1]$$$setUuidFilterconstQList<QBluetoothUuid>& -->
<h3 class="fn"><a name="setUuidFilter"></a>void QBluetoothServiceDiscoveryAgent::setUuidFilter ( const <a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qbluetoothuuid.html">QBluetoothUuid</a>&gt; &amp; <i>uuids</i> )</h3>
<p>Sets the UUID filter to <i>uuids</i>. Only services matching the UUIDs in <i>uuids</i> will be returned.</p>
<p>An empty UUID list is equivalent to a list containing only <a href="qbluetoothuuid.html#ServiceClassUuid-enum">QBluetoothUuid::PublicBrowseGroup</a>.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#uuidFilter">uuidFilter</a>().</p>
<!-- @@@setUuidFilter -->
<!-- $$$setUuidFilter$$$setUuidFilterconstQBluetoothUuid& -->
<h3 class="fn"><a name="setUuidFilter-2"></a>void QBluetoothServiceDiscoveryAgent::setUuidFilter ( const <a href="qbluetoothuuid.html">QBluetoothUuid</a> &amp; <i>uuid</i> )</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Sets the UUID filter to a list containing the single element <i>uuid</i>.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#uuidFilter">uuidFilter</a>().</p>
<!-- @@@setUuidFilter -->
<!-- $$$start[overload1]$$$startDiscoveryMode -->
<h3 class="fn"><a name="start"></a>void QBluetoothServiceDiscoveryAgent::start ( <a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">DiscoveryMode</a> <i>mode</i> = MinimalDiscovery )<tt> [slot]</tt></h3>
<p>Starts service discovery. <i>mode</i> specifies the type of service discovery to perform.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#DiscoveryMode-enum">DiscoveryMode</a>.</p>
<!-- @@@start -->
<!-- $$$stop[overload1]$$$stop -->
<h3 class="fn"><a name="stop"></a>void QBluetoothServiceDiscoveryAgent::stop ()<tt> [slot]</tt></h3>
<p>Stops service discovery.</p>
<!-- @@@stop -->
<!-- $$$uuidFilter[overload1]$$$uuidFilter -->
<h3 class="fn"><a name="uuidFilter"></a><a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qbluetoothuuid.html">QBluetoothUuid</a>&gt; QBluetoothServiceDiscoveryAgent::uuidFilter () const</h3>
<p>Returns the UUID filter.</p>
<p>See also <a href="qbluetoothservicediscoveryagent.html#setUuidFilter">setUuidFilter</a>().</p>
<!-- @@@uuidFilter -->
</div>
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
