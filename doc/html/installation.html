<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- installation.qdoc -->
  <title>Qt 1.2: Installation Guide</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>QtMobility Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
              <li>Installation Guide</li>    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#get-the-qtmobility-api-package">Get the QtMobility API Package</a></li>
<li class="level1"><a href="#pre-requisites-dependencies">Pre-requisites &amp; Dependencies</a></li>
<li class="level1"><a href="#unpacking">Unpacking</a></li>
<li class="level1"><a href="#building">Building</a></li>
<li class="level2"><a href="#building-on-unix">Building On Unix</a></li>
<li class="level2"><a href="#building-on-windows">Building On Windows</a></li>
<li class="level2"><a href="#building-for-windows-ce">Building For Windows CE</a></li>
<li class="level2"><a href="#building-for-symbian-on-windows">Building For Symbian On Windows</a></li>
<li class="level2"><a href="#building-for-mac-os-x">Building For Mac OS X</a></li>
<li class="level2"><a href="#building-individual-qtmobility-modules">Building Individual QtMobility Modules</a></li>
<li class="level1"><a href="#making-the-libraries-available-to-applications">Making the libraries available to applications</a></li>
<li class="level2"><a href="#making-the-libraries-available-on-unix">Making the libraries available on Unix</a></li>
<li class="level2"><a href="#making-the-libraries-available-on-windows">Making the libraries available on Windows</a></li>
<li class="level2"><a href="#making-the-libraries-available-on-windows-ce">Making the libraries available on Windows CE</a></li>
</ul>
</div>
<h1 class="title">Installation Guide</h1>
<span class="subtitle"></span>
<!-- $$$installation.html-description -->
<div class="descr"> <a name="details"></a>
<a name="get-the-qtmobility-api-package"></a>
<h2>Get the QtMobility API Package</h2>
<p>To begin, obtain the most recent distribution package from <a href="http://get.qt.nokia.com">http://get.qt.nokia.com</a></p>
<a name="pre-requisites-dependencies"></a>
<h2>Pre-requisites &amp; Dependencies</h2>
<p>To install QtMobility you must already have installed Qt 4.6 or higher, visit <a href="http://get.qt.nokia.com">http://get.qt.nokia.com</a> to obtain a copy. However, QtMobility's QML components are not enabled unless Qt 4.7 or higher is used. Furthermore perl must be installed and available in the environment path. Windows environments may require the installation of a perl interpreter such as <a href="http://www.activestate.com/activeperl">ActivePerl</a>. On the Maemo 5 (Fremantle) platform PR1.2 firmware release or newer is required, and the Qt 4.7 packages are required.</p>
<p>QtMobility Project APIs are comprised of a number of domains. Some of these domains have dependencies and these are outlined below:</p>
<table class="generic">
 <thead><tr class="qt-style topAlign"><th >API</th><th >Dependency</th></tr></thead>
<tr class="odd topAlign"><td ><p>Bearer Management</p></td><td ><p>The Linux backend depends on <a href="http://qt.nokia.com/doc/4.7/qtdbus.html">QtDBus</a> (auto-detected) and <a href="http://projects.gnome.org/NetworkManager/">NetworkManager</a>, although Bearer Management will compile without them there will be reduced functionality.<p>On Mac, QtBearer depends on CoreWLAN (auto-detected) if Mac OS X SDK 10.6 is available. Functionality will be reduced if CoreWLAN is not available.</p>
</p></td></tr>
<tr class="even topAlign"><td ><p>Contacts</p></td><td ><p>The Maemo 5 backend depends on <a href="http://maemo.org/packages/view/libosso-abook/">libosso-abook</a>.</p></td></tr>
<tr class="odd topAlign"><td ><p>Document Gallery</p></td><td ><p>The Maemo 5 backend depends on <a href="http://qt.nokia.com/doc/4.7/qtdbus.html">QtDBus</a> and <a href="http://project.gnome.org/Tracker">Tracker</a>.</p></td></tr>
<tr class="even topAlign"><td ><p>Location</p></td><td ><p>The Symbian backend uses the LBT (Location Based Triggering) library for area notifications. Area notifications will be disabled at compile time if the LBT library is not found.<p>The LBT library is not publicly available at the time of writing. The developer documentation for <a href="http://carbidehelp.nokia.com/help/index.jsp?topic=/S60_5th_Edition_Cpp_Developers_Library/GUID-759FBC7F-5384-4487-8457-A8D4B76F6AA6/html/Location_ServicesIndexPage.html">S60 Location Services</a> is probably the best source for LBT availability updates, as it will be updated when the library is released.</p>
<p>The landmarks backend for *nix,Windows and Fremantle platforms depends on <a href="http://qt.nokia.com/doc/4.7/qtsql.html">QtSql</a>. <a href="http://qt.nokia.com/doc/4.7/qtsql.html">QtSql</a> also needs the SQLite 3 driver (enabled by default in qt) at runtime.</p>
<p>The landmarks backend on the Harmattan and Meego platforms depends on QtSparql and QtSparql Tracker Extensions. There is also a runtime dependency for <a href="http://project.gnome.org/Tracker">Tracker</a> 0.9&#x2e;30 or greater, and on libqtsparql-tracker which is the Tracker driver for QtSparql.</p>
</p></td></tr>
<tr class="odd topAlign"><td ><p>Messaging</p></td><td ><p>On Linux, <a href="qtmessaging.html">QtMessaging</a> depends on qtopiamail from <a href="http://labs.trolltech.com/blogs/category/qtmessaging">QMF</a>.<p>The Windows Mobile backend depends on ActiveSync version 4.5&#x2e;</p>
<p>While not supported for this release the desktop Windows backend requires that a MAPI subsystem is installed. Note that messaging functionality will not work if you are using the MinGW compiler. Additionally note that CE MAPI is available on Windows Mobile and does not need to be installed separately.</p>
<p>For more detailed instructions on installation on Windows Mobile see <a href="messaging-installation-on-windows-mobile.html">Messaging Installation On Windows Mobile</a></p>
<p>The messaging API SMS/MMS functionality requires that the platform provides SMS/MMS facilities. Email functionality requires that an email account is available on the platform.</p>
</p></td></tr>
<tr class="even topAlign"><td ><p>Multimedia</p></td><td ><p>On all platforms, <a href="qtmultimediakit.html">QtMultimediaKit</a> depends on <a href="http://qt.nokia.com/doc/4.7/qtgui.html">QtGui</a> and <a href="qtnetwork.html">QtNetwork</a>.<p>On all platforms, QML elements for sound effects and music and video playing are exported if <a href="http://qt.nokia.com/doc/4.7/qtdeclarative.html">QtDeclarative</a> (auto-detected) is available.</p>
<p>On all platforms, additional rendering paths are enabled of <a href="http://qt.nokia.com/doc/4.7/qtopengl.html">QtOpenGL</a> (auto-detected) is available.</p>
</p></td><td ><p></p></td><td ><p></p></td></tr>
<tr class="odd topAlign"><td ><p>Multimedia mediaservice plugins</p></td><td ><p>The audioengine plugin for Unix depends on <a href="qtmultimediakit.html">QtMultimediaKit</a>.<p>The dsengine plugin for desktop Windows depends on <a href="qtmultimediakit.html">QtMultimediaKit</a>.</p>
<p>The gstengine plugin for Linux and Maemo depends on gstreamer-0.10 (&gt;= 0.10.19), gstreamer-audio-0.10 (&gt;= 0.10.19), gstreamer-base-0.10 (&gt;= 0.10.19), gstreamer-interfaces-0.10 (&gt;= 0.10.19) and gstreamer-video-0.10 (&gt;= 0.10.19). If asound (auto-detected) is available, ALSA device detection will be enabled.</p>
<p>To enable all mediaservices on Symbian one must download sdk plugins. Sdk plugins are available at <a href="http://wiki.forum.nokia.com/index.php/SDK_API_Plug-in">http://wiki.forum.nokia.com/index.php/SDK_API_Plug-in</a> For 5th edition sdk plugins are installed with installer (all at once), but for FP1 and FP2 devices a zip is provided. You will need following plugins to compile all features: AudioRoutingAPI, Tuner Utility, (only for 3rd FP1), Radio Utility API (for 3rd FP2 and 5th ed), SymbianOnboardCameraAdvancedSettings API (for 3rd FP2 and 5th ed), MDF DevVideoRecord API (for 3rd FP2 and 5th ed). For camera autofocus support in 3rd edition FP1 one must download the following camera example app at <a href="http://www.forum.nokia.com/info/sw.nokia.com/id/2f492479-ac8c-4c3e-aa90-cc883e190d83/S60_Platform_Camera_Example_with_AutoFocus_Support_v2_2_en.zip.html">http://www.forum.nokia.com/info/sw.nokia.com/id/2f492479-ac8c-4c3e-aa90-cc883e190d83/S60_Platform_Camera_Example_with_AutoFocus_Support_v2_2_en.zip.html</a> and extract the autofocus extension plugin that is contained within it, namely autofocus_extension_library_s60_3rd_ed.zip.</p>
<p>Multimedia also includes audio and video (from 1.0&#x2e;1 onwards) and in Symbian we need MMFDevSound API-SDK plugin to compile/link API. This is also available in Forum Nokia as a supplementary pack.</p>
</p></td></tr>
<tr class="even topAlign"><td ><p>Publish &amp; Subscribe</p></td><td ><p>On Linux, <a href="qtpublishsubscribe.html">QtPublishSubscribe</a> depends on <a href="qtnetwork.html">QtNetwork</a>.</p></td></tr>
<tr class="odd topAlign"><td ><p>Sensors</p></td><td ><p>The <a href="qtsensors.html">QtSensors</a> s60_sensor_api plugin for S60 3.1 depends on the <a href="http://www.forum.nokia.com/info/sw.nokia.com/id/4284ae69-d37a-4319-bdf0-d4acdab39700/Sensor_plugin_S60_3rd_ed.html">Sensor API Plug-in</a></p></td></tr>
<tr class="even topAlign"><td ><p></p></td><td ><p>The <a href="qtsensors.html">QtSensors</a> symbian plugin for S60 3.2 depends on the backported <a href="http://www.forum.nokia.com/info/sw.nokia.com/id/8059e8ae-8c22-4684-be6b-d40d443d7efc/Sensor_API_Plug_in_S60_3rd_FP2.html">Sensor API Plug-in</a></p></td></tr>
<tr class="odd topAlign"><td ><p>Service Framework</p></td><td ><p>On all platforms, <a href="qtserviceframework.html">QtServiceFramework</a> depends on <a href="http://qt.nokia.com/doc/4.7/qtsql.html">QtSql</a>. <a href="http://qt.nokia.com/doc/4.7/qtsql.html">QtSql</a> also needs the SQLite 3 driver (enabled by default) at runtime.</p></td></tr>
<tr class="even topAlign"><td ><p>System Information</p></td><td ><p>On all platforms, <a href="qtsysteminfo.html">QtSystemInfo</a> depends on <a href="qtnetwork.html">QtNetwork</a>.<p>Linux backend depends on <a href="http://qt.nokia.com/doc/4.7/qtdbus.html">QtDBus</a> (auto-detected), HAL and <a href="http://projects.gnome.org/NetworkManager/">NetworkManager</a>, although System Information will compile without them, there will be reduced functionality. It also depends on <a href="http://qt.nokia.com/doc/4.7/qtgui.html">QtGui</a>, and on libbluetooth development headers. As well, for Linux machines that have libblkid installed, this will be used as a last resort for discovering UUID of storage.</p>
<p>The Mac backend depends on CoreWLAN (auto-detected) if the Mac OS X 10.6 SDK is available. It will compile with older SSDKsbut there will be reduced functionality.</p>
<p>For Maemo depends on <a href="http://qt.nokia.com/doc/4.7/qtdbus.html">QtDBus</a> (auto-detected). <a href="http://qt.nokia.com/doc/4.7/qtdbus.html">QtDBus</a> is used to communicate with HAL, and functionality will be reduced if either is unavailable.</p>
<p>The Symbian backend depends on WLANManagementAPI. WLANManagementAPI plugin is available at <a href="http://wiki.forum.nokia.com/index.php/SDK_API_Plug-in">http://wiki.forum.nokia.com/index.php/SDK_API_Plug-in</a> For 5th edition sdk plugins are installed with installer (all at once), but for FP1 and FP2 devices a WLANManagementAPI.zip is provided.</p>
<p>Also for Symbian, it depends on SIM Utils API SDK plugin available from Forum Nokia <a href="http://wiki.forum.nokia.com/index.php/File:SIMUtilsAPI_3x_50.zip">http://wiki.forum.nokia.com/index.php/File:SIMUtilsAPI_3x_50.zip</a></p>
<p>On Symbian 3 FP2, it depends on the Multiple Drive Support available from Forum Nokia http://www.forum.nokia.com/Library/Tools_and_downloads/Other/Multiple_Drive_Support_plug-in.xhtml</p>
</p></td></tr>
<tr class="odd topAlign"><td ><p><a href="qtversit.html">QtVersit</a></p></td><td ><p>On all platforms, <a href="qtversit.html">QtVersit</a> depends on <a href="qtcontacts.html">QtContacts</a> and <a href="qtorganizer.html">QtOrganizer</a>.</p></td></tr>
</table>
<a name="unpacking"></a>
<h2>Unpacking</h2>
<p>Unpack the QtMobility archive if you have not done so already, on Unix (X11 and Mac):</p>
<pre class="highlightedCode brush: cpp"> cd /tmp
 gunzip %DISTNAME%.tar.gz        #uncompress the archive
 tar xvf %DISTNAME%.tar          #unpack it</pre>
<p>This creates the directory <tt>/tmp/%DISTNAME%</tt> containing the files from the archive. We only support the GNU version of the tar archiving utility. Note on some systems it is called gtar.</p>
<p>On windows, uncompress the zip file into the directory you want QtMobility Project installed, extracting to <tt>C:\QtMobility</tt> will create the directory <tt>C:\QtMobility\%DISTNAME%</tt></p>
<p>NOTE: The install path(prefix) must not contain any spaces.</p>
<a name="building"></a>
<h2>Building</h2>
<p>Ensure that all compile time dependencies for your particular platform have been met before building.</p>
<p>If Qt is installed for multiple platforms it is also important to ensure that the correct version of <tt>qmake</tt> is being used.</p>
<p><b>Note:</b> Static builds of Qt are not supported by QtMobility.</p>
<a name="building-on-unix"></a>
<h3>Building On Unix</h3>
<p>To configure the QtMobility libraries for your machine, run the <tt>./configure</tt> script in the package directory.</p>
<p>To specify the installation directory you may use the -prefix option. Not passing a prefix installs the mobility libraries into $PWD/install.</p>
<pre class="highlightedCode brush: cpp"> cd /tmp/%DISTNAME%
 ./configure -prefix $TARGET_DIR</pre>
<p>Type <tt>./configure -help</tt> to get a list of all available options. If you are building for maemo you need to use the -maemo option with configure.</p>
<p>To create all the libraries and tools, type:</p>
<pre class="highlightedCode brush: cpp"> make</pre>
<p>To install the libraries and tools to $TARGET_DIR, type:</p>
<pre class="highlightedCode brush: cpp"> make install</pre>
<p>If you have specified an install directory with root ownership, you will need to type:</p>
<pre class="highlightedCode brush: cpp"> su -c &quot;make install&quot;
     or
 sudo make install</pre>
<p>and enter in the appropriate password.</p>
<p>Note that on some systems the make utility is named differently, e.g&#x2e; gmake. The configure script tells you which make utility to use.</p>
<a name="building-on-windows"></a>
<h3>Building On Windows</h3>
<p>To configure the QtMobility libraries for your machine, run configure in the package directory.</p>
<p>To specify the installation directory you may use the -prefix option. Not passing a prefix installs the mobility libraries into an install directory within the current working directory.</p>
<pre class="highlightedCode brush: cpp">     cd c:\QtMobility\%DISTNAME%
     configure -prefix %TARGET_DIR%</pre>
<p>Type <tt>configure -help</tt> to get a list of all available options.</p>
<p>The actual commands needed to build and install QtMobility depends on your development system. To create and install the libraries and tools from a Microsoft Visual Studio command prompt, type:</p>
<pre class="highlightedCode brush: cpp"> nmake
 nmake install</pre>
<a name="building-for-windows-ce"></a>
<h3>Building For Windows CE</h3>
<p>The process is much the same as for Windows, although it is important to run the <tt>setcepaths</tt> script from the <tt>bin</tt> directory of the Qt for Windows CE installation to ensure that the correct headers and libraries are used.</p>
<a name="building-for-symbian-on-windows"></a>
<h3>Building For Symbian On Windows</h3>
<p>Building QtMobility for Symbian is not necessary as the package contains pre-built binaries for the SDK and SIS file for the device. See the <tt>INSTALL.symbian</tt> file on how to deploy these. The file is located in the root directory of the package.</p>
<p>If you wish to build QtMobility yourself, run configure in the package directory. (-prefix cannot be used since the libraries are installed into the SDK directory)</p>
<pre class="highlightedCode brush: cpp">     cd c:\QtMobility\%DISTNAME%
     configure</pre>
<p>Type <tt>configure -help</tt> to get a list of all available options.</p>
<p>To create and deploy the libraries and tools for the emulator run:</p>
<pre class="highlightedCode brush: cpp"> make debug-winscw</pre>
<p>To create the libraries and tools using the commercial compiler RVCT for a device, run:</p>
<pre class="highlightedCode brush: cpp"> make release-armv5</pre>
<p>Note: <tt>make install</tt> has no meaning for building on Symbian. The libraries will be deployed into the SDK (when running make) and will be ready to use for compiling applications for the emulator and/or device.</p>
<a name="building-for-mac-os-x"></a>
<h3>Building For Mac OS X</h3>
<p>The process is the same as for Unix, with the additional configuration option of <tt>-sdk /Developer/SDKs/MacOSX10.5.sdk</tt> to specify an Apple SDK version other than the default.</p>
<p>Note: QtMobility currently has no support for building with Xcode.</p>
<p>Note: QtMobility will be built using the same frameworks configuration option that Qt was built with.</p>
<a name="building-individual-qtmobility-modules"></a>
<h3>Building Individual QtMobility Modules</h3>
<p>QtMobility is comprised of several modules but all of these may not need to be built. To specify which modules should be built, use the <tt>-modules</tt> switch with the configure script when performing the configure step as outlined above.</p>
<p>e.g&#x2e; To build just the bearer module:</p>
<pre class="highlightedCode brush: cpp"> configure -modules bearer</pre>
<p>If multiple modules are required the module names should be separated by a space and surrounded by double quotation marks. If a selected module depends on other modules the dependencies will be enabled automatically.</p>
<p>.e.g&#x2e; To build just the bearer and location modules:</p>
<pre class="highlightedCode brush: cpp"> configure -modules &quot;bearer location&quot;</pre>
<p>Type <tt>configure -help</tt> to see the names of the available modules.</p>
<a name="making-the-libraries-available-to-applications"></a>
<h2>Making the libraries available to applications</h2>
<p>In order to use QtMobility some environment variables need to be extended to locate the libraries, which are placed in the lib directory of the install path.</p>
<a name="making-the-libraries-available-on-unix"></a>
<h3>Making the libraries available on Unix</h3>
<p>The environment variable LD_LIBRARY_PATH should be extended to include: <tt>$TARGET_DIR/lib</tt></p>
<p>In .profile (if your Unix shell is bash,ksh,zsh or sh), add the following lines</p>
<pre class="highlightedCode brush: cpp"> LD_LIBRARY_PATH=$TARGET_DIR/lib:$LD_LIBRARY_PATH
 export LD_LIBRARY_PATH</pre>
<p>In .login (incase your shell is csh or tcsh), add the following line:</p>
<pre class="highlightedCode brush: cpp"> setenv LD_LIBRARY_PATH=$TARGET_DIR/lib:$LD_LIBRARY_PATH</pre>
<p>If you use a different Unix shell, please modify your your environment variables accordingly.</p>
<a name="making-the-libraries-available-on-windows"></a>
<h3>Making the libraries available on Windows</h3>
<p>The environment variable PATH should be extended to include: <tt>C:\%TARGET_DIR%\lib</tt></p>
<p>For newer versions of windows, PATH can be extended through &quot;Start-&gt;Settings-&gt;Control Panel-&gt;System-&gt;Advanced-&gt; Environment variables&quot; and for older versions by editing <tt>C:\autoexec.bat</tt></p>
<a name="making-the-libraries-available-on-windows-ce"></a>
<h3>Making the libraries available on Windows CE</h3>
<p>Environment variables do not exist on Windows CE, and so users of QtMobility for Windows CE have to do things slightly differently. A pre-requisite for QtMobility applications is that the Qt libraries and plugins have been deployed as per Qt's documentation.</p>
<p>The deployment of the libraries to the device is normally done with Microsoft Visual Studio or Microsoft ActiveSync.</p>
<p>The libraries can be made globally available by deploying them to <tt>C:\Windows</tt> on the device, or can be deployed once per application by copying them into the same directory as the executable. QtMobility expects plug-ins in the subdirecty <tt>plugins/&lt;APIname&gt;</tt> in one of the locations specified by <a href="http://qt.nokia.com/doc/4.7/qcoreapplication.html#libraryPaths">QCoreApplication::libraryPaths</a>() which includes <tt>C:\Windows</tt> and the Mobility application's directory.</p>
<p>And now the installation is complete, we hope you enjoy using QtMobility.</p>
</div>
<!-- @@@installation.html -->
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
