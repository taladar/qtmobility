<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qversitreader.cpp -->
  <title>Qt 1.2: QVersitReader Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>QtMobility Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
              <li><a href="modules.html">Modules</a></li>              <li><a href="qtversit.html">QtVersit</a></li>
              <li>QVersitReader</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#public-slots">Public Slots</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QVersitReader Class Reference</h1>
<!-- $$$QVersitReader-brief -->
<p>The QVersitReader class provides an interface for reading versit documents such as vCards from a Stream. <a href="#details">More...</a></p>
<!-- @@@QVersitReader -->
<pre class="highlightedCode brush: cpp"> #include &lt;QVersitReader&gt;</pre><p>Inherits <a href="http://qt.nokia.com/doc/4.7/qobject.html">QObject</a>.</p>
<ul>
<li><a href="qversitreader-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#Error-enum">Error</a></b> { NoError, UnspecifiedError, IOError, OutOfMemoryError, NotReadyError, ParseError }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#State-enum">State</a></b> { InactiveState, ActiveState, CanceledState, FinishedState }</td></tr>
</table>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#QVersitReader">QVersitReader</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#QVersitReader-2">QVersitReader</a></b> ( QIODevice * <i>inputDevice</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#QVersitReader-3">QVersitReader</a></b> ( const QByteArray &amp; <i>inputData</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#dtor.QVersitReader">~QVersitReader</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QTextCodec * </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#defaultCodec">defaultCodec</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QIODevice * </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#device">device</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Error </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#error">error</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QVersitDocument&gt; </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#results">results</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#setData">setData</a></b> ( const QByteArray &amp; <i>inputData</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#setDefaultCodec">setDefaultCodec</a></b> ( QTextCodec * <i>codec</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#setDevice">setDevice</a></b> ( QIODevice * <i>device</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> State </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#state">state</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#waitForFinished">waitForFinished</a></b> ( int <i>msec</i> = -1 )</td></tr>
</table>
<ul>
<li class="fn">29 public functions inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-functions">QObject</a></li>
</ul>
<a name="public-slots"></a>
<h2>Public Slots</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#cancel">cancel</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#startReading">startReading</a></b> ()</td></tr>
</table>
<ul>
<li class="fn">1 public slot inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-slots">QObject</a></li>
</ul>
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#resultsAvailable">resultsAvailable</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qversitreader.html#stateChanged">stateChanged</a></b> ( QVersitReader::State <i>state</i> )</td></tr>
</table>
<ul>
<li class="fn">1 signal inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#signals">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li class="fn">1 property inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#properties">QObject</a></li>
<li class="fn">1 public variable inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-variables">QObject</a></li>
<li class="fn">4 static public members inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#static-public-members">QObject</a></li>
<li class="fn">7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#protected-functions">QObject</a></li>
<li class="fn">2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<!-- $$$QVersitReader-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The QVersitReader class provides an interface for reading versit documents such as vCards from a Stream.</p>
<p>QVersitReader concatenation of Versit documents such as vCards from a text stream and returns a list of <a href="qversitdocument.html">QVersitDocument</a> instances. QVersitReader supports reading from an abstract I/O device which can be, for example, a file or a memory buffer. The reading can be done asynchronously, and the <a href="qversitreader.html#waitForFinished">waitForFinished</a>() function can be used to make a blocking read.</p>
</div>
<p>See also <a href="qversitdocument.html">QVersitDocument</a>.</p>
<!-- @@@QVersitReader -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Error$$$NoError$$$UnspecifiedError$$$IOError$$$OutOfMemoryError$$$NotReadyError$$$ParseError -->
<h3 class="fn"><a name="Error-enum"></a>enum QVersitReader::Error</h3>
<p>This enum specifies an error that occurred during the most recent operation:</p>
<table class="valuelist"><tr class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QVersitReader::NoError</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">The most recent operation was successful</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::UnspecifiedError</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">The most recent operation failed for an undocumented reason</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::IOError</tt></td><td class=" topAlign"><tt>2</tt></td><td  class="topAlign">The most recent operation failed because of a problem with the device</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::OutOfMemoryError</tt></td><td class=" topAlign"><tt>3</tt></td><td  class="topAlign">The most recent operation failed due to running out of memory</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::NotReadyError</tt></td><td class=" topAlign"><tt>4</tt></td><td  class="topAlign">The most recent operation failed because there is an operation in progress</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::ParseError</tt></td><td class=" topAlign"><tt>5</tt></td><td  class="topAlign">The most recent operation failed because the input was malformed</td></tr>
</table>
<!-- @@@Error -->
<!-- $$$State$$$InactiveState$$$ActiveState$$$CanceledState$$$FinishedState -->
<h3 class="fn"><a name="State-enum"></a>enum QVersitReader::State</h3>
<p>Enumerates the various states that a reader may be in at any given time</p>
<table class="valuelist"><tr class="odd"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QVersitReader::InactiveState</tt></td><td class=" topAlign"><tt>0</tt></td><td  class="topAlign">Read operation not yet started</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::ActiveState</tt></td><td class=" topAlign"><tt>1</tt></td><td  class="topAlign">Read operation started, not yet finished</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::CanceledState</tt></td><td class=" topAlign"><tt>2</tt></td><td  class="topAlign">Read operation is finished due to cancellation</td></tr>
<tr><td  class="topAlign"><tt>QVersitReader::FinishedState</tt></td><td class=" topAlign"><tt>3</tt></td><td  class="topAlign">Read operation successfully completed</td></tr>
</table>
<!-- @@@State -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QVersitReader[overload1]$$$QVersitReader -->
<h3 class="fn"><a name="QVersitReader"></a>QVersitReader::QVersitReader ()</h3>
<p>Constructs a new reader.</p>
<!-- @@@QVersitReader -->
<!-- $$$QVersitReader$$$QVersitReaderQIODevice* -->
<h3 class="fn"><a name="QVersitReader-2"></a>QVersitReader::QVersitReader ( <a href="http://qt.nokia.com/doc/4.7/qiodevice.html">QIODevice</a> * <i>inputDevice</i> )</h3>
<p>Constructs a new reader that reads from <i>inputDevice</i>.</p>
<!-- @@@QVersitReader -->
<!-- $$$QVersitReader$$$QVersitReaderconstQByteArray& -->
<h3 class="fn"><a name="QVersitReader-3"></a>QVersitReader::QVersitReader ( const <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> &amp; <i>inputData</i> )</h3>
<p>Constructs a new reader that reads from <i>inputData</i>.</p>
<!-- @@@QVersitReader -->
<!-- $$$~QVersitReader[overload1]$$$~QVersitReader -->
<h3 class="fn"><a name="dtor.QVersitReader"></a>QVersitReader::~QVersitReader ()</h3>
<p>Frees the memory used by the reader. Waits until a pending asynchronous reading has been completed.</p>
<!-- @@@~QVersitReader -->
<!-- $$$cancel[overload1]$$$cancel -->
<h3 class="fn"><a name="cancel"></a>void QVersitReader::cancel ()<tt> [slot]</tt></h3>
<p>Attempts to asynchronously cancel the read request.</p>
<!-- @@@cancel -->
<!-- $$$defaultCodec[overload1]$$$defaultCodec -->
<h3 class="fn"><a name="defaultCodec"></a><a href="http://qt.nokia.com/doc/4.7/qtextcodec.html">QTextCodec</a> * QVersitReader::defaultCodec () const</h3>
<p>Returns the codec the reader uses when parsing the input stream. If the codec is null, this denotes that the reader will try to detect the codec from the input.</p>
<p>See also <a href="qversitreader.html#setDefaultCodec">setDefaultCodec</a>().</p>
<!-- @@@defaultCodec -->
<!-- $$$device[overload1]$$$device -->
<h3 class="fn"><a name="device"></a><a href="http://qt.nokia.com/doc/4.7/qiodevice.html">QIODevice</a> * QVersitReader::device () const</h3>
<p>Returns the device used for reading input, or 0 if no device has been set (or if the input source was set with <a href="qversitreader.html#setData">setData</a>().</p>
<p>See also <a href="qversitreader.html#setDevice">setDevice</a>().</p>
<!-- @@@device -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn"><a name="error"></a><a href="qversitreader.html#Error-enum">Error</a> QVersitReader::error () const</h3>
<p>Returns the error encountered by the last operation.</p>
<!-- @@@error -->
<!-- $$$results[overload1]$$$results -->
<h3 class="fn"><a name="results"></a><a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qversitdocument.html">QVersitDocument</a>&gt; QVersitReader::results () const</h3>
<p>Returns the reading result. Even if there was an error or reading has not completed, a partial list of results may be returned.</p>
<!-- @@@results -->
<!-- $$$resultsAvailable[overload1]$$$resultsAvailable -->
<h3 class="fn"><a name="resultsAvailable"></a>void QVersitReader::resultsAvailable ()<tt> [signal]</tt></h3>
<p>The signal is emitted by the reader as it reads from the device when it has made more Versit documents available.</p>
<!-- @@@resultsAvailable -->
<!-- $$$setData[overload1]$$$setDataconstQByteArray& -->
<h3 class="fn"><a name="setData"></a>void QVersitReader::setData ( const <a href="http://qt.nokia.com/doc/4.7/qbytearray.html">QByteArray</a> &amp; <i>inputData</i> )</h3>
<p>Sets the data to read from to the byte array input source, <i>inputData</i>. This overrides any device set with <a href="qversitreader.html#setDevice">setDevice</a>().</p>
<!-- @@@setData -->
<!-- $$$setDefaultCodec[overload1]$$$setDefaultCodecQTextCodec* -->
<h3 class="fn"><a name="setDefaultCodec"></a>void QVersitReader::setDefaultCodec ( <a href="http://qt.nokia.com/doc/4.7/qtextcodec.html">QTextCodec</a> * <i>codec</i> )</h3>
<p>Sets <i>codec</i> as the codec for the reader to use when parsing the input stream to. This codec is not used for values where the CHARSET Versit parameter occurs. If the codec is null, this denotes that the reader will try to detect the codec from the input. The codec autodetection algorithm can detect UTF-8, UTF-16 or UTF-32. If the input is in some 8-bit codec, it will fall back to using the system locale's codec.</p>
<p>See also <a href="qversitreader.html#defaultCodec">defaultCodec</a>().</p>
<!-- @@@setDefaultCodec -->
<!-- $$$setDevice[overload1]$$$setDeviceQIODevice* -->
<h3 class="fn"><a name="setDevice"></a>void QVersitReader::setDevice ( <a href="http://qt.nokia.com/doc/4.7/qiodevice.html">QIODevice</a> * <i>device</i> )</h3>
<p>Sets the device used for reading the input to be the given <i>device</i>. Does not take ownership of the device. This overrides any byte array input source set with <a href="qversitreader.html#setData">setData</a>().</p>
<p>The caller must ensure that <i>device</i> remains valid for the lifetime of this <a href="qversitreader.html">QVersitReader</a> object.</p>
<p>See also <a href="qversitreader.html#device">device</a>().</p>
<!-- @@@setDevice -->
<!-- $$$startReading[overload1]$$$startReading -->
<h3 class="fn"><a name="startReading"></a>bool QVersitReader::startReading ()<tt> [slot]</tt></h3>
<p>Starts reading the input asynchronously. Returns false if the input device has not been set or opened or if there is another asynchronous read operation already pending. Signal <a href="qversitreader.html#stateChanged">stateChanged</a>() is emitted with parameter <a href="qversitreader.html#State-enum">FinishedState</a> when the reading has finished.</p>
<p>The device must be already open. The client is responsible for closing it when finished.</p>
<!-- @@@startReading -->
<!-- $$$state[overload1]$$$state -->
<h3 class="fn"><a name="state"></a><a href="qversitreader.html#State-enum">State</a> QVersitReader::state () const</h3>
<p>Returns the state of the reader.</p>
<!-- @@@state -->
<!-- $$$stateChanged[overload1]$$$stateChangedQVersitReader::State -->
<h3 class="fn"><a name="stateChanged"></a>void QVersitReader::stateChanged ( <a href="qversitreader.html#State-enum">QVersitReader::State</a> <i>state</i> )<tt> [signal]</tt></h3>
<p>The signal is emitted by the reader when its state has changed (eg. when it has finished reading from the device). <i>state</i> is the new state of the reader.</p>
<!-- @@@stateChanged -->
<!-- $$$waitForFinished[overload1]$$$waitForFinishedint -->
<h3 class="fn"><a name="waitForFinished"></a>bool QVersitReader::waitForFinished ( int <i>msec</i> = -1 )</h3>
<p>If the state is <a href="qversitreader.html#State-enum">ActiveState</a>, blocks until the reader has finished reading or <i>msec</i> milliseconds has elapsed, returning true if it successfully finishes or is cancelled by the user. If <i>msec</i> is negative or zero, the function blocks until the writer has finished, regardless of how long it takes. If the state is <a href="qversitreader.html#State-enum">FinishedState</a>, returns true immediately. Otherwise, returns false immediately.</p>
<!-- @@@waitForFinished -->
</div>
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
