<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- location.qdoc -->
  <title>Qt 1.2: Location API</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>QtMobility Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
              <li>Location API</li>    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#namespace">Namespace</a></li>
<li class="level1"><a href="#location-positioning">Location Positioning</a></li>
<li class="level2"><a href="#requesting-location-data-from-data-sources">Requesting location data from data sources</a></li>
<li class="level2"><a href="#controlling-aspects-of-data-sources">Controlling aspects of data sources</a></li>
<li class="level2"><a href="#reading-nmea-data">Reading NMEA data</a></li>
<li class="level2"><a href="#example-creating-a-custom-location-data-source">Example: Creating a custom location data source</a></li>
<li class="level2"><a href="#qml-elements">QML Elements</a></li>
<li class="level2"><a href="#examples">Examples</a></li>
<li class="level3"><a href="#flickr-demo"><b>Flickr Demo</b></a></li>
<li class="level3"><a href="#weather-info-demo"><b>Weather Info Demo</b></a></li>
<li class="level3"><a href="#light-maps-demo"><b>Light Maps Demo</b></a></li>
<li class="level2"><a href="#qml-example">QML Example</a></li>
<li class="level3"><a href="#flickr-qml-example"><b>Flickr QML Example</b></a></li>
<li class="level2"><a href="#location-classes">Location classes</a></li>
<li class="level1"><a href="#landmarks">Landmarks</a></li>
<li class="level2"><a href="#landmark-operation-examples">Landmark operation examples</a></li>
<li class="level3"><a href="#managers-and-plugins">Managers and plugins</a></li>
<li class="level3"><a href="#variations-between-platforms-managers">Variations between platforms/managers</a></li>
<li class="level3"><a href="#importing-and-exporting-landmarks">Importing and Exporting Landmarks</a></li>
<li class="level2"><a href="#landmark-classes">Landmark classes</a></li>
<li class="level3"><a href="#main-landmark-classes"><b>Main Landmark Classes</b></a></li>
<li class="level3"><a href="#landmark-selection-classes"><b>Landmark Selection classes</b></a></li>
<li class="level3"><a href="#filters"><b>Filters</b></a></li>
<li class="level3"><a href="#sortorders"><b>SortOrders</b></a></li>
<li class="level3"><a href="#asynchronous-requests"><b>Asynchronous Requests</b></a></li>
<li class="level3"><a href="#implementing-backends"><b>Implementing backends</b></a></li>
<li class="level1"><a href="#maps-and-navigation">Maps and Navigation</a></li>
<li class="level2"><a href="#common-classes">Common classes</a></li>
<li class="level2"><a href="#mapping">Mapping</a></li>
<li class="level3"><a href="#map-objects"><b>Map objects</b></a></li>
<li class="level2"><a href="#routing">Routing</a></li>
<li class="level2"><a href="#geocoding-and-searching-for-places">Geocoding and searching for places</a></li>
<li class="level2"><a href="#the-nokia-plugin">The Nokia plugin</a></li>
<li class="level2"><a href="#implementing-plugins">Implementing plugins</a></li>
<li class="level3"><a href="#tile-based-map-convenience-classes">Tile-based map convenience classes</a></li>
<li class="level1"><a href="#qml-elements">QML Elements</a></li>
</ul>
</div>
<h1 class="title">Location API</h1>
<span class="subtitle"></span>
<!-- $$$location-overview.html-description -->
<div class="descr"> <a name="details"></a>
<p>The Location API provides a library for location positioning, landmark management and mapping and navigation.</p>
<a name="namespace"></a>
<h2>Namespace</h2>
<p>The QtMobility APIs are placed into the <i>QtMobility</i> namespace. This is done to facilitate the future migration of QtMobility APIs into Qt. See the <a href="quickstart.html">Quickstart guide</a> for an example on how the namespace impacts on application development.</p>
<a name="location-positioning"></a>
<h2>Location Positioning</h2>
<p>Location data involves a precisely specified position on the Earth's surface — as provided by a latitude-longitude coordinate — along with associated data, such as:</p>
<ul>
<li>The date and time at which the position was reported</li>
<li>The velocity of the device that reported the position</li>
<li>The altitude of the reported position (height above sea level)</li>
<li>The bearing of the device in degrees, relative to true north</li>
</ul>
<p>This data can be extracted through a variety of methods. One of the most well known methods of positioning is GPS (Global Positioning System), a publicly available system that uses radiowave signals received from Earth-orbiting satellites to calculate the precise position and time of the receiver. Another popular method is Cell ID positioning, which uses the cell ID of the cell site that is currently serving the receiving device to calculate its approximate location. These and other positioning methods can all be used with the Location API; the only requirement for a location data source within the API is that it provides a latitude-longitude coordinate with a date/time value, with the option of providing the other attributes listed above.</p>
<p>Location data sources are created by subclassing <a href="qgeopositioninfosource.html">QGeoPositionInfoSource</a> and providing <a href="qgeopositioninfo.html">QGeoPositionInfo</a> objects through the <a href="qgeopositioninfosource.html#positionUpdated">QGeoPositionInfoSource::positionUpdated</a>() signal. Clients that require location data can connect to the <a href="qgeopositioninfosource.html#positionUpdated">positionUpdated()</a> signal and call <a href="qgeopositioninfosource.html#startUpdates">startUpdates()</a> or <a href="qgeopositioninfosource.html#requestUpdate">requestUpdate()</a> to trigger the distribution of location data.</p>
<p>A default position source may be available on some platforms. Call <a href="qgeopositioninfosource.html#createDefaultSource">QGeoPositionInfoSource::createDefaultSource</a>() to create an instance of the default position source; the method returns 0 if no default source is available for the platform.</p>
<p>The <a href="qgeoareamonitor.html">QGeoAreaMonitor</a> class enables client applications to be notified when the receiving device has moved in or out of a particular area, as specified by a coordinate and radius. If the platform provides built-in support for area monitoring, <a href="qgeoareamonitor.html#createDefaultMonitor">QGeoAreaMonitor::createDefaultMonitor</a>() returns an instance of the default area monitor.</p>
<p>Satellite information can also be distributed through the <a href="qgeosatelliteinfosource.html">QGeoSatelliteInfoSource</a> class. Call <a href="qgeosatelliteinfosource.html#createDefaultSource">QGeoSatelliteInfoSource::createDefaultSource</a>() to create an instance of the default satellite data source for the platform, if one is available. Alternatively, clients can subclass it to provide a custom satellite data source.</p>
<a name="requesting-location-data-from-data-sources"></a>
<h3>Requesting location data from data sources</h3>
<p>To receive data from a source, connect to its <a href="qgeopositioninfosource.html#positionUpdated">positionUpdated()</a> signal, then call either <a href="qgeopositioninfosource.html#startUpdates">startUpdates()</a> or <a href="qgeopositioninfosource.html#requestUpdate">requestUpdate()</a> to begin.</p>
<p>Here is an example of a client that receives data from the default location data source, as returned by <a href="qgeopositioninfosource.html#createDefaultSource">QGeoPositionInfoSource::createDefaultSource</a>():</p>
<pre class="highlightedCode brush: cpp"> class MyClass : public QObject
 {
     Q_OBJECT
 public:
     MyClass(QObject *parent = 0)
         : QObject(parent)
     {
         QGeoPositionInfoSource *source = QGeoPositionInfoSource::createDefaultSource(this);
         if (source) {
             connect(source, SIGNAL(positionUpdated(QGeoPositionInfo)),
                     this, SLOT(positionUpdated(QGeoPositionInfo)));
             source-&gt;startUpdates();
         }
     }

 private slots:
     void positionUpdated(const QGeoPositionInfo &amp;info)
     {
         qDebug() &lt;&lt; &quot;Position updated:&quot; &lt;&lt; info;
     }
 };</pre>
<a name="controlling-aspects-of-data-sources"></a>
<h3>Controlling aspects of data sources</h3>
<p>The <a href="qgeopositioninfosource.html#updateInterval-prop">QGeoPositionInfoSource::setUpdateInterval</a>() method can be used to control the rate at which position updates are received. For example, if the client application only requires updates once every 30 seconds, it can call <tt>setUpdateInterval(30000)</tt>. (If no update interval is set, or <a href="qgeopositioninfosource.html#updateInterval-prop">setUpdateInterval()</a> is called with a value of 0, the source uses a default interval or some other internal logic to determine when updates should be provided.)</p>
<p><a href="qgeopositioninfosource.html#setPreferredPositioningMethods">QGeoPositionInfoSource::setPreferredPositioningMethods</a>() enables client applications to request that a certain type of positioning method be used. For example, if the application prefers to use only satellite positioning, which offers fairly precise outdoor positioning but can be a heavy user of power resources, it can call this method with the <a href="qgeopositioninfosource.html#PositioningMethod-enum">QGeoPositionInfoSource::SatellitePositioningMethods</a> value. However, this method should only be used in specialized client applications; in most cases, the default positioning methods should not be changed, as a source may internally use a variety of positioning methods that can be useful to the application.</p>
<a name="reading-nmea-data"></a>
<h3>Reading NMEA data</h3>
<p><a href="http://en.wikipedia.org/wiki/NMEA_0183">NMEA</a> is a common text-based protocol for specifying navigational data. For convenience, the <a href="qnmeapositioninfosource.html">QNmeaPositionInfoSource</a> is provided to enable client applications to read and distribute NMEA data in either real-time mode (for example, when streaming from a GPS device) or simulation mode (for example, when reading from a NMEA log file). In simulation mode, the source will emit updates according to the time stamp of each NMEA sentence to produce a &quot;replay&quot; of the recorded data.</p>
<a name="example-creating-a-custom-location-data-source"></a>
<h3>Example: Creating a custom location data source</h3>
<p>Generally, the capabilities provided by the default position source as returned by <a href="qgeopositioninfosource.html#createDefaultSource">QGeoPositionInfoSource::createDefaultSource</a>(), along with the <a href="qnmeapositioninfosource.html">QNmeaPositionInfoSource</a> class, are sufficient for retrieving location data. However, in some cases developers may wish to write their own custom location data sources.</p>
<p>The <tt>LogFilePositionSource</tt> class in <tt>examples/logfilepositionsource</tt> shows how to subclass <a href="qgeopositioninfosource.html">QGeoPositionInfoSource</a> to create a custom location data source.</p>
<p>This example class reads location data from a text file, <i>log.txt</i>. The file specifies location data using a simple text format: it contains one location update per line, where each line contains a date/time, a latitude and a longitude, separated by spaces. The date/time is in ISO 8601 format and the latitude and longitude are in degrees decimal format. Here is an excerpt from <i>log.txt</i>:</p>
<pre class="highlightedCode brush: cpp">     2009-08-24T22:25:01 -27.576082 153.092415
     2009-08-24T22:25:02 -27.576223 153.092530
     2009-08-24T22:25:03 -27.576364 153.092648</pre>
<p>The class reads this data and distributes it via the <a href="qgeopositioninfosource.html#positionUpdated">positionUpdated()</a> signal.</p>
<p>Here is the definition of the <tt>LogFilePositionSource</tt> class:</p>
<pre class="highlightedCode brush: cpp"> class LogFilePositionSource : public QGeoPositionInfoSource
 {
     Q_OBJECT
 public:
     LogFilePositionSource(QObject *parent = 0);

     QGeoPositionInfo lastKnownPosition(bool fromSatellitePositioningMethodsOnly = false) const;

     PositioningMethods supportedPositioningMethods() const;
     int minimumUpdateInterval() const;

 public slots:
     virtual void startUpdates();
     virtual void stopUpdates();

     virtual void requestUpdate(int timeout = 5000);

 private slots:
     void readNextPosition();

 private:
     QFile *logFile;
     QTimer *timer;
     QGeoPositionInfo lastPosition;
 };</pre>
<p>The main methods overrided by the subclass are:</p>
<ul>
<li><a href="qgeopositioninfosource.html#startUpdates">startUpdates()</a>: called by client applications to start regular position updates</li>
<li><a href="qgeopositioninfosource.html#stopUpdates">stopUpdates()</a>: called by client applications to stop regular position updates</li>
<li><a href="qgeopositioninfosource.html#requestUpdate">requestUpdate()</a>: called by client applications to request a single update, with a specified timeout</li>
</ul>
<p>When a position update is available, the subclass emits the <a href="qgeopositioninfosource.html#positionUpdated">positionUpdated()</a> signal.</p>
<p>Here are the key methods in the class implementation:</p>
<pre class="highlightedCode brush: cpp"> LogFilePositionSource::LogFilePositionSource(QObject *parent)
     : QGeoPositionInfoSource(parent),
       logFile(new QFile(this)),
       timer(new QTimer(this))
 {
     connect(timer, SIGNAL(timeout()), this, SLOT(readNextPosition()));

     logFile-&gt;setFileName(QCoreApplication::applicationDirPath()
             + QDir::separator() + &quot;simplelog.txt&quot;);
     if (!logFile-&gt;open(QIODevice::ReadOnly))
         qWarning() &lt;&lt; &quot;Error: cannot open source file&quot; &lt;&lt; logFile-&gt;fileName();
 }

 void LogFilePositionSource::startUpdates()
 {
     int interval = updateInterval();
     if (interval &lt; minimumUpdateInterval())
         interval = minimumUpdateInterval();

     timer-&gt;start(interval);
 }

 void LogFilePositionSource::stopUpdates()
 {
     timer-&gt;stop();
 }

 void LogFilePositionSource::requestUpdate(int <span class="comment">/*timeout*/</span>)
 {
     <span class="comment">// For simplicity, ignore timeout - assume that if data is not available</span>
     <span class="comment">// now, no data will be added to the file later</span>
     if (logFile-&gt;canReadLine())
         readNextPosition();
     else
         emit updateTimeout();
 }

 void LogFilePositionSource::readNextPosition()
 {
     QByteArray line = logFile-&gt;readLine().trimmed();
     if (!line.isEmpty()) {
         QList&lt;QByteArray&gt; data = line.split(' ');
         double latitude;
         double longitude;
         bool hasLatitude = false;
         bool hasLongitude = false;
         QDateTime timestamp = QDateTime::fromString(QString(data.value(0)), Qt::ISODate);
         latitude = data.value(1).toDouble(&amp;hasLatitude);
         longitude = data.value(2).toDouble(&amp;hasLongitude);

         if (hasLatitude &amp;&amp; hasLongitude &amp;&amp; timestamp.isValid()) {
             QGeoCoordinate coordinate(latitude, longitude);
             QGeoPositionInfo info(coordinate, timestamp);
             if (info.isValid()) {
                 lastPosition = info;
                 emit positionUpdated(info);
             }
         }
     }
 }</pre>
<p>The <a href="logfilepositionsource.html">example</a> includes a <tt>ClientApplication</tt> class that requests updates from the <tt>LogFilePositionSource</tt> class. Run the example to see the data that is received by <tt>ClientApplication</tt>.</p>
<p>Before running the example, make sure you have done both <tt>make</tt> and <tt>make install</tt>.</p>
<a name="qml-elements"></a>
<h3>QML Elements</h3>
<p>For details on the QML support provided for the Location API see the documentation for the <a href="qml-location-plugin.html">Location QML Plugin</a>.</p>
<a name="examples"></a>
<h3>Examples</h3>
<a name="flickr-demo"></a>
<h4><b>Flickr Demo</b></h4>
<p>The <a href="flickrdemo.html">Flickr Demo</a> uses the Location to download thumbnail images from Flickr relevant to the current location.</p>
<a name="weather-info-demo"></a>
<h4><b>Weather Info Demo</b></h4>
<p>The <a href="weatherinfo.html">Weather Info demo</a> uses Location display data about the weather for the current location.</p>
<a name="light-maps-demo"></a>
<h4><b>Light Maps Demo</b></h4>
<p>The <a href="lightmaps.html">Light Maps demo</a> uses Location display a street map for the current location.</p>
<a name="qml-example"></a>
<h3>QML Example</h3>
<p>Examples using the Location QML Plugin demonstrate how to use the QML/C++ bindings to easily access the Location API features.</p>
<a name="flickr-qml-example"></a>
<h4><b>Flickr QML Example</b></h4>
<p>The Flickr example now in the form of a QML application. This also displays in the form of a mobile application.</p>
<a name="location-classes"></a>
<h3>Location classes</h3>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeoaddress.html">QGeoAddress</a></p></td><td class="tblDescr"><p>Represents an address</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoareamonitor.html">QGeoAreaMonitor</a></p></td><td class="tblDescr"><p>Enables the detection of proximity changes for a specified set of coordinates</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeocoordinate.html">QGeoCoordinate</a></p></td><td class="tblDescr"><p>Defines a geographical position on the surface of the Earth</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoplace.html">QGeoPlace</a></p></td><td class="tblDescr"><p>Represents basic information about a place</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeopositioninfo.html">QGeoPositionInfo</a></p></td><td class="tblDescr"><p>Contains information gathered on a global position, direction and velocity at a particular point in time</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeopositioninfosource.html">QGeoPositionInfoSource</a></p></td><td class="tblDescr"><p>Abstract base class for the distribution of positional updates</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeopositioninfosourcefactory.html">QGeoPositionInfoSourceFactory</a></p></td><td class="tblDescr"><p>Factory class used as the plugin interface for external providers of positioning data</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeosatelliteinfo.html">QGeoSatelliteInfo</a></p></td><td class="tblDescr"><p>Contains basic information about a satellite</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeosatelliteinfosource.html">QGeoSatelliteInfoSource</a></p></td><td class="tblDescr"><p>Abstract base class for the distribution of satellite information updates</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qnmeapositioninfosource.html">QNmeaPositionInfoSource</a></p></td><td class="tblDescr"><p>Positional information using a NMEA data source</p></td></tr>
</table>
<a name="landmarks"></a><a name="landmarks"></a>
<h2>Landmarks</h2>
<p>The Landmarks portion of the Location API facilitates the creation, retrieval, updating and deletion of landmarks from arbitrary data stores.</p>
<p>A landmark is a location of some significance, also known as a point of interest and are represented as <a href="qlandmark.html">QLandmark</a> objects. Related landmarks may be grouped into categories(<a href="qlandmarkcategory.html">QLandmarkCategory</a>) such as restaurants or accommodation and each landmark can belong to more than one category.</p>
<p>A landmark datastore is represented by a <a href="qlandmarkmanager.html">QLandmarkManager</a>. The <a href="qlandmarkmanager.html">QLandmarkManager</a> may be used to save, fetch and remove both landmarks and categories. When fetching landmarks we can provide various filters and sort orders to define the searching criteria and the order in which landmarks are returned. The <a href="qlandmarkmanager.html">QLandmarkManager</a> also provides functionality to import and export landmarks as well as provide notifications whenever changes are detected. It should be noted that the Landmarks API provides both synchronous and asynchronous mechanisms to perform the above operations. Synchronous operations are provided the <a href="qlandmarkmanager.html">QLandmarkManager</a> itself while the asynchronous operations are provided by various <a href="#asynchronous-landmark-requests">request classes</a>. It is generally recommended that the asynchronous <a href="#asynchronous-landmark-requests">request classes</a> classes be used as they are not subject to blocking which can be an issue if a datastore contains a significantly large number of landmarks or if the datastore is being accessed over a network.</p>
<a name="landmark-operation-examples"></a>
<h3>Landmark operation examples</h3>
<p>For more details see the <a href="landmarks.html">Landmark Examples</a> page for:</p>
<ul>
<li><a href="landmarks.html#creating-saving-categories-and-landmarks">Creating/Saving categories and landmarks</a></li>
<li><a href="landmarks.html#retrieving-categories-and-landmarks">Retrieving categories and landmarks</a></li>
<li><a href="landmarks.html#deleting-categories-and-landmarks">Deleting categories and landmarks</a></li>
<li><a href="landmarks.html#importing-landmarks">Importing landmarks</a></li>
<li><a href="landmarks.html#exporting-landmarks">Exporting landmarks</a></li>
</ul>
<a name="landmark-managers-and-plugins"></a><a name="managers-and-plugins"></a>
<h4>Managers and plugins</h4>
<p>Landmark managers are identified by their manager name. Each manager name corresponds to a specific plugin/backend that implements the manager functionality. The manager name is typically a reverse domain string such as &quot;com.nokia.qt.landmarks.engines.symbian&quot;. Typically a developer does not need to deal with the manager name as the default manager will be used when instantiating a <a href="qlandmarkmanager.html">QLandmarkManager</a> without construction parameters.</p>
<p>To implement your own plugin, you need to subclass <a href="qlandmarkmanagerengine.html">QLandmarkManagerEngine</a> and provide the implmementations for the virtual functions, and then create a QLandmarkMangerEngineFactory subclass that will instantiate your particular engine implementation.</p>
<p>The following table shows names of the default managers for each platform and where the landmarks are stored.</p>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >Manager name</th><th >Platform</th><th >Landmark storage</th></tr></thead>
<tr class="odd topAlign"><td ><p>com.nokia.qt.landmarks.engines.symbian</p></td><td ><p>S60 3.1,3.2,5.0, Symbian</p></td><td ><p>Uses the S60 Platform Landmarks API to store data into the default/global landmark database.</p></td></tr>
<tr class="even topAlign"><td ><p>com.nokia.qt.landmarks.engines.sqlite</p></td><td ><p>Maemo5, Windows Xp/Vista,Linux, Mac OS X</p></td><td ><p>Landmarks are stored in an SQLite database.</p></td></tr>
<tr class="odd topAlign"><td ><p>com.nokia.qt.landmarks.engines.qsparql</p></td><td ><p>Harmattan,Meego</p></td><td ><p>Landmarks are stored in Tracker using SPARQL queries.</p></td></tr>
</table>
<p>These managers only store and retrieve landmark data locally. This landmark data is available to any application which accesses the manager and is thus shared between all applications. At present there are no managers which retrieve landmark data from online sources.</p>
<p>For convenience, this documentations refers to the manager corresponding to <tt>com.nokia.qt.landmarks.engines.symbian</tt> as the <i>symbian manager</i>, the manager corresponding to <tt>com.nokia.qt.landmarks.engines.sqlite</tt> as the <i>sqlite manager</i>, and the manager corresponding to <tt>com.nokia.qt.landmarks.engines.sparql</tt> as the <i>sparql manager</i>.</p>
<a name="variations-between-platforms-managers"></a>
<h4>Variations between platforms/managers</h4>
<p>The behaviour of some parts of the Landmarks API varies between platforms. A few of the major ones are mentioned below</p>
<ul>
<li>The symbian manager does not support the MatchContains flag in the attribute filters. The symbian manager also does not support multiple attributes with an AND operation type in an attribute filter. Some versions of s60 do not support the MatchContains flag in name filters. See the documentation on the attribute and name filters for more details.</li>
<li>The sparql manager as of 1.1&#x2e;1 does not support the countryCode, county and district fields of <a href="qgeoaddress.html">QGeoAddress</a>. These fields are ignored when a landmark is saved.</li>
</ul>
<a name="importing-and-exporting-landmarks"></a>
<h4>Importing and Exporting Landmarks</h4>
<p>The landmarks API supports import and exporting of landmarks. The file formats that are supported depends on the particular manager. The following table outline the formats that may be used for the default manager on each platform. You may also query the supported formats through the <a href="qlandmarkmanager.html#supportedFormats">QLandmarkManager::supportedFormats</a>() function.</p>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >Platform</th><th >Import formats</th><th >Export formats</th></tr></thead>
<tr class="odd topAlign"><td ><p>S60 3.1,3.2</p></td><td ><p>Lmx</p></td><td ><p>Lmx</p></td></tr>
<tr class="even topAlign"><td ><p>S60 5.0</p></td><td ><p>Gpx, Lmx</p></td><td ><p>Lmx</p></td></tr>
<tr class="odd topAlign"><td ><p>Symbian</p></td><td ><p>Gpx, Lmx, Kml, Kmz</p></td><td ><p>Lmx</p></td></tr>
<tr class="even topAlign"><td ><p>Maemo 5, windows, linux</p></td><td ><p>Lmx, Gpx(version 1.1 only)</p></td><td ><p>Lmx, Gpx(vesion 1.1 only)</p></td></tr>
</table>
<p>During an import operation, every landmark from the import source will result in the creation of a new landmark, however any categories defined in the import source will be mapped to existing categories if possible. If a mappping cannot be found then a new category is created.</p>
<p>During an import or export operation,the <a href="qlandmarkmanager.html#TransferOption-enum">QLandmarkManager::TransferOption</a> can be used to decide what to do with category data, provided the given format supports them. (For formats such as gpx which do not support categories, the transfer option is ignored). Typically, any categories are included as is with <a href="qlandmarkmanager.html#TransferOption-enum">QLandmarkManager::IncludeCategoryData</a> being the default option. You may choose to ignore any categories by providing using <a href="qlandmarkmanager.html#TransferOption-enum">QLandmarkManager::ExcludeCategoryData</a>. For an import operation, you can use <a href="qlandmarkmanager.html#TransferOption-enum">QLandmarkManager::AttachSingleCategory</a> in conjunction with a <a href="qlandmarkcategoryid.html">QLandmarkCategoryId</a>, to have all imported landmarks be assigned to that category(any exisiting category associations defined in the import source are ignored).</p>
<p>The export operation by default exports all landmarks within the manager. If you wish to export only a subset you can provide a list of landmark ids to do so. One caveat with exporting landmarks to gpx format is that the gpx does not support landmarks which have NaN latitude and longitude values. If you try to export all landmarks, then those landmarks with NaN values are skipped over. However if you provide a list of ids of landmarks to export, the export operation will fail if any one of those landmarks have NaN latitude or longitude values.</p>
<p>Also note that when exporting landmarks in lmx format, the url of the landmark should be a valid absolute URI as specified in the Landmark Exchange Format Specification 1.0&#x2e; If the URI is relative, then the url of that landmark is not exported.</p>
<a name="landmark-classes"></a>
<h3>Landmark classes</h3>
<a name="main-landmark-classes"></a>
<h4><b>Main Landmark Classes</b></h4>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmark.html">QLandmark</a></p></td><td class="tblDescr"><p>Represents a point of interest</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkcategory.html">QLandmarkCategory</a></p></td><td class="tblDescr"><p>Designates a grouping of landmarks of similar type</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkcategoryid.html">QLandmarkCategoryId</a></p></td><td class="tblDescr"><p>Unique identifier for a category</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkid.html">QLandmarkId</a></p></td><td class="tblDescr"><p>Unique identifier for a landmark</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkmanager.html">QLandmarkManager</a></p></td><td class="tblDescr"><p>Interface for storage and retrieval of landmarks from a landmark store</p></td></tr>
</table>
<a name="landmark-selection-classes"></a>
<h4><b>Landmark Selection classes</b></h4>
<p>Landmark selection is facilitated by filter and sort order classes. The filter classes define what criteria that landmarks must match and the sort order classes specify how the returned landmarks are sorted. Please note that sorting by distance is facilitated by the QLandmarkProximity class. Providing a QLandmarkProximity filter in an intersection filter will sort results in order of ascending distance (on the condition only a default sort order class is used in conjunction). The filter and sort order classes are used with either the <a href="qlandmarkmanager.html">QLandmarkManager</a> class (for synchronous landmark selection) or the request classes for (asynchronous landmark selection)</p>
<a name="filters"></a>
<h4><b>Filters</b></h4>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkattributefilter.html">QLandmarkAttributeFilter</a></p></td><td class="tblDescr"><p>Filtering on various landmark attributes</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkboxfilter.html">QLandmarkBoxFilter</a></p></td><td class="tblDescr"><p>Used to search for landmarks within a given bounding box</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkcategoryfilter.html">QLandmarkCategoryFilter</a></p></td><td class="tblDescr"><p>Used to search for landmarks that belong to a certain category</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkfilter.html">QLandmarkFilter</a></p></td><td class="tblDescr"><p>Serves as the base class for all filter classes. Also serves as the default filter which retrieves all landmarks</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkidfilter.html">QLandmarkIdFilter</a></p></td><td class="tblDescr"><p>Used to search for landmarks based on a list of landmark identifiers</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkintersectionfilter.html">QLandmarkIntersectionFilter</a></p></td><td class="tblDescr"><p>Filter which intersects the results of its constituent filters</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarknamefilter.html">QLandmarkNameFilter</a></p></td><td class="tblDescr"><p>Used to search for landmarks by name</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkproximityfilter.html">QLandmarkProximityFilter</a></p></td><td class="tblDescr"><p>Used to search for landmarks based on the radius around a given coordinate and perform sorting by distance</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkunionfilter.html">QLandmarkUnionFilter</a></p></td><td class="tblDescr"><p>Filter which unions the results of its constituent filters</p></td></tr>
</table>
<a name="sortorders"></a>
<h4><b>SortOrders</b></h4>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarknamesort.html">QLandmarkNameSort</a></p></td><td class="tblDescr"><p>Used to sort landmarks by name</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarksortorder.html">QLandmarkSortOrder</a></p></td><td class="tblDescr"><p>Serves as a base class for the different sort order types and by itself represents no sorting</p></td></tr>
</table>
<a name="asynchronous-landmark-requests"></a><a name="asynchronous-requests"></a>
<h4><b>Asynchronous Requests</b></h4>
<p>Asynchronous operations are facilitates by the request classes listed below:</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkabstractrequest.html">QLandmarkAbstractRequest</a></p></td><td class="tblDescr"><p>The interface from which all asynchronous request classes inherit</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkcategoryfetchbyidrequest.html">QLandmarkCategoryFetchByIdRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request a list of categories by ID from a landmark manager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkcategoryfetchrequest.html">QLandmarkCategoryFetchRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request a list of categories from a landmark manager</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkcategoryidfetchrequest.html">QLandmarkCategoryIdFetchRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request a list of category identifiers from a landmark manager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkcategoryremoverequest.html">QLandmarkCategoryRemoveRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request that certain categories be removed from a landmark manager</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkcategorysaverequest.html">QLandmarkCategorySaveRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request that certain categories be saved by a landmark manager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkexportrequest.html">QLandmarkExportRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request that a landmark manager export a set of landmarks</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkfetchbyidrequest.html">QLandmarkFetchByIdRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request a list of landmarks by id from a landmark manager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkfetchrequest.html">QLandmarkFetchRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request a list of landmarks from a landmark manager</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkidfetchrequest.html">QLandmarkIdFetchRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request a list of landmark identifiers from a landmark manager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkimportrequest.html">QLandmarkImportRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request that a landmark manager import a set of landmarks</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkremoverequest.html">QLandmarkRemoveRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request that certain landmarks be removed from a landmark manager</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarksaverequest.html">QLandmarkSaveRequest</a></p></td><td class="tblDescr"><p>Allows a client to asynchronously request that certain landmarks be saved by a landmark manager</p></td></tr>
</table>
<a name="implementing-backends"></a>
<h4><b>Implementing backends</b></h4>
<p>A manager backend may be implemented by subclassing <a href="qlandmarkmanagerengine.html">QLandmarkManagerEngine</a>, and providing a <a href="qlandmarkmanagerenginefactory.html">QLandmarkManagerEngineFactory</a> which can instantiate it when required.</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qlandmarkmanagerengine.html">QLandmarkManagerEngine</a></p></td><td class="tblDescr"><p>The interface for all implementations of the landmark manager backend functionality</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qlandmarkmanagerenginefactory.html">QLandmarkManagerEngineFactory</a></p></td><td class="tblDescr"><p>The interface for plugins that implement QLandmarkManagerEngine functionality</p></td></tr>
</table>
<a name="maps-and-navigation"></a>
<h2>Maps and Navigation</h2>
<p>The Maps and Navigation API is based on plugins.</p>
<p>Since most providers of mapping, geocoding and routing information offer no guarantees that their data is interoperable with the data provided by other services, the plugins are used to group the functionality per service provider.</p>
<p>The plugins are accessed via <a href="qgeoserviceprovider.html">QGeoServiceProvider</a>, and a Nokia based plugin is part of QtMobility. See the section <a href="#the-nokia-plugin">The Nokia plugin</a> for more details.</p>
<pre class="highlightedCode brush: cpp">     QGeoMappingManager *mappingManager = 0;
     QGeoRoutingManager *routingManager = 0;
     QGeoSearchManager *searchManager = 0;

     QGeoServiceProvider serviceProvider(&quot;plugin name&quot;);

     if (serviceProvider.error() == QGeoServiceProvider::NoError) {
         mappingManager = serviceProvider.mappingManager();
         routingManager = serviceProvider.routingManager();
         searchManager = serviceProvider.searchManager();
     }</pre>
<p><b>Important notice:</b> <i>The map data provided by the offline plug-in is place-shifted for the area of the People’s Republic of China. To provide un-shifted maps of China in an application, the application developer must first obtain permission from Chinese officials. The Qt Mobility Location API cannot offer this on the API level.</i></p>
<a name="common-classes"></a>
<h3>Common classes</h3>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeoboundingarea.html">QGeoBoundingArea</a></p></td><td class="tblDescr"><p>Defines a geographic area</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoboundingbox.html">QGeoBoundingBox</a></p></td><td class="tblDescr"><p>Defines a rectangular geographic area</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeoboundingcircle.html">QGeoBoundingCircle</a></p></td><td class="tblDescr"><p>Defines a circular geographic area</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoserviceprovider.html">QGeoServiceProvider</a></p></td><td class="tblDescr"><p>Aggregates access to services which provide geographical information</p></td></tr>
</table>
<a name="mapping"></a>
<h3>Mapping</h3>
<p>The <a href="qgraphicsgeomap.html">QGraphicsGeoMap</a> class is the main class used for displaying and interacting with maps. It is designed for use within the Graphics View Framework, and is a subclass of <a href="http://qt.nokia.com/doc/4.7/qgraphicswidget.html">QGraphicsWidget</a>.</p>
<p>The <a href="qgeomappingmanager.html">QGeoMappingManager</a> provides most of the functionality required by <a href="qgraphicsgeomap.html">QGraphicsGeoMap</a>. The details of <a href="qgeomappingmanager.html">QGeoMappingManager</a> are mostly only important to plugin implementers, as regular users should not need to make use of <a href="qgeomappingmanager.html">QGeoMappingManager</a> outside of the <a href="qgraphicsgeomap.html">QGraphicsGeoMap</a> constructor:</p>
<pre class="highlightedCode brush: cpp">     QGraphicsGeoMap *map = new QGraphicsGeoMap(mappingManager);</pre>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomapoverlay.html">QGeoMapOverlay</a></p></td><td class="tblDescr"><p>Used to draw overlays on the map</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomappingmanager.html">QGeoMappingManager</a></p></td><td class="tblDescr"><p>Support for displaying and interacting with maps</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgraphicsgeomap.html">QGraphicsGeoMap</a></p></td><td class="tblDescr"><p>Used to display a map and manager the interactions between the user and the map</p></td></tr>
</table>
<a name="map-objects"></a>
<h4><b>Map objects</b></h4>
<p><a href="qgeomapobject.html">QGeoMapObject</a> and its subclasses provide the ability to add graphics to the map specified in terms of coordinates and distances. <a href="qgeomapobject.html">QGeoMapObject</a> instances can also be grouped into heirarchies in order to simplify the process of creating compound objects and managing groups of objects.</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomapcircleobject.html">QGeoMapCircleObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw the region within a given distance of a coordinate</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomapcustomobject.html">QGeoMapCustomObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw a pixmap on a map</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomapgroupobject.html">QGeoMapGroupObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to manager a group of other map objects</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomapobject.html">QGeoMapObject</a></p></td><td class="tblDescr"><p>Graphical item to be displayed on a map</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomappixmapobject.html">QGeoMapPixmapObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw a pixmap on a map</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomappolygonobject.html">QGeoMapPolygonObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw a polygon on a map</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomappolylineobject.html">QGeoMapPolylineObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw a segmented line on a map</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomaprectangleobject.html">QGeoMapRectangleObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw a rectangular region on a map</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomaprouteobject.html">QGeoMapRouteObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw a route on a map</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomaptextobject.html">QGeoMapTextObject</a></p></td><td class="tblDescr"><p>QGeoMapObject used to draw text on a map</p></td></tr>
</table>
<a name="routing"></a>
<h3>Routing</h3>
<p><a href="qgeoroutingmanager.html">QGeoRoutingManager</a> handles requests for routing information.</p>
<p>The requests are created as <a href="qgeorouterequest.html">QGeoRouteRequest</a> instances, which are passed to <a href="qgeoroutingmanager.html#calculateRoute">QGeoRoutingManager::calculateRoute</a>(). The returned <a href="qgeoroutereply.html">QGeoRouteReply</a> instance will contain the result of the request when it is completed.</p>
<p>The <a href="qgeoroute.html">QGeoRoute</a> class describes the resulting route. Each route is broken up into a number of <a href="qgeoroutesegment.html">QGeoRouteSegment</a> instances, with the division usually occurring at either user specified waypoints or at changes in the mode of transport, like when changing from a train to a bus.</p>
<p>Each <a href="qgeoroutesegment.html">QGeoRouteSegment</a> has a QGeoNavigationInstruction instance which describes the instructions that would be issued to a user attempting to follow a route. These instructions a location, which is typically somewhere near the end of the associated <a href="qgeoroutesegment.html">QGeoRouteSegment</a>, and instruction text describing how the next <a href="qgeoroutesegment.html">QGeoRouteSegment</a> should be reached.</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomaneuver.html">QGeoManeuver</a></p></td><td class="tblDescr"><p>Represents the information relevant to the point at which two QGeoRouteSegments meet</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoroute.html">QGeoRoute</a></p></td><td class="tblDescr"><p>Represents a route between two points</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeoroutereply.html">QGeoRouteReply</a></p></td><td class="tblDescr"><p>Manages an operation started by an instance of QGeoRoutingManager</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeorouterequest.html">QGeoRouteRequest</a></p></td><td class="tblDescr"><p>Represents the parameters and restrictions which define a request for routing information</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeoroutesegment.html">QGeoRouteSegment</a></p></td><td class="tblDescr"><p>Represents a segment of a route</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoroutingmanager.html">QGeoRoutingManager</a></p></td><td class="tblDescr"><p>Support for geographic routing operations</p></td></tr>
</table>
<a name="geocoding-and-searching-for-places"></a>
<h3>Geocoding and searching for places</h3>
<p><a href="qgeosearchmanager.html">QGeoSearchManager</a> handles geocoding, reverse geocoding and free-text search for places.</p>
<p>The free-text search will attempt to geocode text that looks like an address while simultaneously searching any landmark databases that the service provides. It is even possibly to add additional <a href="qlandmarkmanager.html">QLandmarkManager</a> instances to the soures of data, so that users can search online databases alongside their personal offline landmarks store.</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeosearchmanager.html">QGeoSearchManager</a></p></td><td class="tblDescr"><p>Support for searching operations related to geographic information</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeosearchreply.html">QGeoSearchReply</a></p></td><td class="tblDescr"><p>Manages an operation started by an instance of QGeoSearchManager</p></td></tr>
</table>
<a name="the-nokia-plugin"></a>
<h3>The Nokia plugin</h3>
<p>QtMobility ships with a Maps and Navigation API plugin which accesses the relevant Ovi services provided Nokia. The use of these services is governed by the terms and conditions available inedi.ntcn the file plugins/geoservices/nokia/OVI_SERVICES_TERMS_AND_CONDITIONS.txt.</p>
<p>The Ovi services plugin can be loaded by using the plugin key &quot;nokia&quot;.</p>
<p>Note that accepting the terms and conditions only applies those terms and conditions to the use of the Ovi Maps Services plugin and does not limit the use of the other maps and navigation API plugins that may be included with the QtMobility package.</p>
<p>On Symbian platforms the applications using the Nokia plugin will need NetworkServices capability to access the online services.</p>
<p>The online plugin uses the tiled map classes, which cache tile data in heap memory (currently up to 10 MB on Symbian and Maemo5 and Harmattan platforms). Because default heap size for Qt application on Symbian is 4 MB, it may be good idea to increase the application's heap size (depending on the app of course). Otherwise somewhat misleading error popups may appear, e.g&#x2e; &quot;&lt;application name&gt;: Memory full. Close some applications and try again.&quot; See e.g&#x2e; <a href="http://library.forum.nokia.com/index.jsp?topic=/Qt_for_Symbian_Developers_Library/GUID-4427F6F8-AB72-489B-BB9C-3261A0568E4E.html">Forum Nokia documentation.</a></p>
<p>The following table lists optional parameters that can be passed to the Nokia plugin.</p>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >Parameter</th><th >Description</th></tr></thead>
<tr class="odd topAlign"><td ><p>mapping.proxy</p></td><td ><p>Proxy server URL used by mapping manager.</p></td></tr>
<tr class="even topAlign"><td ><p>mapping.host</p></td><td ><p>Map tile service URL used by mapping manager.</p></td></tr>
<tr class="odd topAlign"><td ><p>mapping.referer</p></td><td ><p>Referer for the mapping token used for authentication by mapping manager.</p></td></tr>
<tr class="even topAlign"><td ><p>mapping.token</p></td><td ><p>Client token for the service used for authentication by mapping manager.</p></td></tr>
<tr class="odd topAlign"><td ><p>mapping.cache.directory</p></td><td ><p>Map tile cache directory used as network disk cache.<p>Default place for the cache is &quot;maptiles&quot; directory in system temp.</p>
<p>On Symbian platform by default the cache is placed into internal mass memory drive directory &quot;/data/nokia/maptiles&quot;.</p>
<p>If no internal mass memory is present on Symbian device caching is not used by default.</p>
<p>Changing the cache directory on Symbian may cause additional capability needs depending on where the new directory is placed.</p>
<p>Map tile caching is disabled on Maemo, Meego and Windows CE platforms. Using the parameter on these platforms will have no effect.</p>
<p>Map tiles will expire and are refetched 14 days after download.</p>
</p></td></tr>
<tr class="even topAlign"><td ><p>mapping.cache.size</p></td><td ><p>Map tile cache size. Maximum size of the cache is 50MB.</p></td></tr>
<tr class="odd topAlign"><td ><p>routing.proxy</p></td><td ><p>Proxy server URL used by routing manager.</p></td></tr>
<tr class="even topAlign"><td ><p>routing.host</p></td><td ><p>Routing service URL used by routing manager.</p></td></tr>
<tr class="odd topAlign"><td ><p>routing.referer</p></td><td ><p>Referer for the routing token used for authentication by routing manager.</p></td></tr>
<tr class="even topAlign"><td ><p>routing.token</p></td><td ><p>Client token for the service used for authentication by routing manager.</p></td></tr>
<tr class="odd topAlign"><td ><p>places.proxy</p></td><td ><p>Proxy server URL used by search manager.</p></td></tr>
<tr class="even topAlign"><td ><p>places.host</p></td><td ><p>Search service URL used by search manager.</p></td></tr>
<tr class="odd topAlign"><td ><p>places.referer</p></td><td ><p>Referer for the places token used for authentication by search manager.</p></td></tr>
<tr class="even topAlign"><td ><p>places.token</p></td><td ><p>Client token for the service used for authentication by search manager.</p></td></tr>
</table>
<a name="implementing-plugins"></a>
<h3>Implementing plugins</h3>
<p>A plugin implementer needs to subclass <a href="qgeoserviceproviderfactory.html">QGeoServiceProviderFactory</a> and as many of the ManagerEngine classes as they want to provide implementations for.</p>
<p>Subclassing <a href="qgeoserviceproviderfactory.html">QGeoServiceProviderFactory</a> will only involve exposing a name and a version by overriding <a href="qgeoserviceproviderfactory.html#providerName">QGeoServiceProviderFactory::providerName</a>() and <a href="qgeoserviceproviderfactory.html#providerVersion">QGeoServiceProviderFactory::providerVersion</a>(), and overriding <a href="qgeoserviceproviderfactory.html#createSearchManagerEngine">QGeoServiceProviderFactory::createSearchManagerEngine</a>(), <a href="qgeoserviceproviderfactory.html#createMappingManagerEngine">QGeoServiceProviderFactory::createMappingManagerEngine</a>() and <a href="qgeoserviceproviderfactory.html#createRoutingManagerEngine">QGeoServiceProviderFactory::createRoutingManagerEngine</a>() as appropriate.</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomapdata.html">QGeoMapData</a></p></td><td class="tblDescr"><p>Are used as a bridge between QGraphicsGeoMap and QGeoMappingManager</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeomapobjectinfo.html">QGeoMapObjectInfo</a></p></td><td class="tblDescr"><p>The base class used to define the parts of QGeoMapObject and its subclasses that are specific to a particular QGeoMapData subclass</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeomappingmanagerengine.html">QGeoMappingManagerEngine</a></p></td><td class="tblDescr"><p>Interface and convenience methods to implementors of QGeoServiceProvider plugins who want to provides support for displaying and interacting with maps</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoroutingmanagerengine.html">QGeoRoutingManagerEngine</a></p></td><td class="tblDescr"><p>Interface and convenience methods to implementers of QGeoServiceProvider plugins who want to provide access to geographic routing information</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeosearchmanagerengine.html">QGeoSearchManagerEngine</a></p></td><td class="tblDescr"><p>Interface and convenience methods to implementers of QGeoServiceProvider plugins who want to provide support for searching operations related to geographic data</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeoserviceproviderfactory.html">QGeoServiceProviderFactory</a></p></td><td class="tblDescr"><p>Factory class used as the plugin interface for services related to geographical information</p></td></tr>
</table>
<a name="tile-based-map-convenience-classes"></a>
<h4>Tile-based map convenience classes</h4>
<p>Most of the current tile based mapping APIs are very similar, and so we provide a number of classes intended to make writing tile based mapping plugins much simpler.</p>
<p>If the Mercator projection and the most common tile addressing scheme is used this will mainly involve subclassing <a href="qgeotiledmappingmanagerengine.html">QGeoTiledMappingManagerEngine</a> and providing an implementation of <a href="qgeotiledmappingmanagerengine.html#getTileImage">QGeoTiledMappingManagerEngine::getTileImage</a>().</p>
<table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeotiledmapdata.html">QGeoTiledMapData</a></p></td><td class="tblDescr"><p>Subclass of QGeoMapData provided to make working with tile based mapping services more convenient</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeotiledmapreply.html">QGeoTiledMapReply</a></p></td><td class="tblDescr"><p>Manages a tile fetch operation started by an instance of QGeoTiledManagerEngine</p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="qgeotiledmaprequest.html">QGeoTiledMapRequest</a></p></td><td class="tblDescr"><p>Represents a request for a map tile from a tile-based mapping service</p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="qgeotiledmappingmanagerengine.html">QGeoTiledMappingManagerEngine</a></p></td><td class="tblDescr"><p>Provided to make writing Qt Maps and Navigation API plugins for tiled based mapping services easier</p></td></tr>
</table>
<a name="qml-elements"></a>
<h2>QML Elements</h2>
<p>For details on the QML support provided for the Location API see the documentation for the <a href="qml-location-plugin.html">Location QML Plugin</a>.</p>
</div>
<!-- @@@location-overview.html -->
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
