<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qcontactmanagerengine.cpp -->
  <title>Qt 1.2: QContactManagerEngineV2 Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>QtMobility Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
              <li><a href="modules.html">Modules</a></li>              <li><a href="qtcontacts.html">QtContacts</a></li>
              <li>QContactManagerEngineV2</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#static-public-members">Static Public Members</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QContactManagerEngineV2 Class Reference</h1>
<!-- $$$QContactManagerEngineV2-brief -->
<p>The QContactManagerEngineV2 class provides the interface for implementations of the contact manager backend functionality. <a href="#details">More...</a></p>
<!-- @@@QContactManagerEngineV2 -->
<pre class="highlightedCode brush: cpp"> #include &lt;QContactManagerEngineV2&gt;</pre><p>Inherits <a href="qcontactmanagerengine.html">QContactManagerEngine</a>.</p>
<p>Inherited by <a href="qcontactinvalidengine.html">QContactInvalidEngine</a>.</p>
<ul>
<li><a href="qcontactmanagerenginev2-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qcontactmanagerenginev2.html#QContactManagerEngineV2">QContactManagerEngineV2</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QList&lt;QContact&gt; </td><td class="memItemRight bottomAlign"><b><a href="qcontactmanagerenginev2.html#contacts-2">contacts</a></b> ( const QList&lt;QContactLocalId&gt; &amp; <i>localIds</i>, const QContactFetchHint &amp; <i>fetchHint</i>, QMap&lt;int, QContactManager::Error&gt; * <i>errorMap</i>, QContactManager::Error * <i>error</i> ) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qcontactmanagerenginev2.html#saveContacts-2">saveContacts</a></b> ( QList&lt;QContact&gt; * <i>contacts</i>, const QStringList &amp; <i>definitionMask</i>, QMap&lt;int, QContactManager::Error&gt; * <i>errorMap</i>, QContactManager::Error * <i>error</i> )</td></tr>
</table>
<a name="reimplemented-public-functions"></a>
<h2>Reimplemented Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> virtual QList&lt;QContact&gt; </td><td class="memItemRight bottomAlign"><b><a href="qcontactmanagerenginev2.html#contacts">contacts</a></b> ( const QContactFilter &amp; <i>filter</i>, const QList&lt;QContactSortOrder&gt; &amp; <i>sortOrders</i>, const QContactFetchHint &amp; <i>fetchHint</i>, QContactManager::Error * <i>error</i> ) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="qcontactmanagerenginev2.html#saveContacts">saveContacts</a></b> ( QList&lt;QContact&gt; * <i>contacts</i>, QMap&lt;int, QContactManager::Error&gt; * <i>errorMap</i>, QContactManager::Error * <i>error</i> )</td></tr>
</table>
<ul>
<li class="fn">35 public functions inherited from <a href="qcontactmanagerengine.html#public-functions">QContactManagerEngine</a></li>
<li class="fn">29 public functions inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-functions">QObject</a></li>
</ul>
<a name="static-public-members"></a>
<h2>Static Public Members</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qcontactmanagerenginev2.html#updateContactFetchByIdRequest">updateContactFetchByIdRequest</a></b> ( QContactFetchByIdRequest * <i>req</i>, const QList&lt;QContact&gt; &amp; <i>result</i>, QContactManager::Error <i>error</i>, const QMap&lt;int, QContactManager::Error&gt; &amp; <i>errorMap</i>, QContactAbstractRequest::State <i>newState</i> )</td></tr>
</table>
<ul>
<li class="fn">22 static public members inherited from <a href="qcontactmanagerengine.html#static-public-members">QContactManagerEngine</a></li>
<li class="fn">4 static public members inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#static-public-members">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li class="fn">1 property inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#properties">QObject</a></li>
<li class="fn">1 public slot inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-slots">QObject</a></li>
<li class="fn">7 signals inherited from <a href="qcontactmanagerengine.html#signals">QContactManagerEngine</a></li>
<li class="fn">1 signal inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#signals">QObject</a></li>
<li class="fn">1 public variable inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#public-variables">QObject</a></li>
<li class="fn">7 protected functions inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#protected-functions">QObject</a></li>
<li class="fn">2 protected variables inherited from <a href="http://qt.nokia.com/doc/4.7/qobject.html#protected-variables">QObject</a></li>
</ul>
<a name="details"></a>
<!-- $$$QContactManagerEngineV2-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>The QContactManagerEngineV2 class provides the interface for implementations of the contact manager backend functionality.</p>
<p>Instances of this class are usually provided by a <a href="qcontactmanagerenginefactory.html">QContactManagerEngineFactory</a>, which is loaded from a plugin.</p>
<p>The default implementation of this interface provides a basic level of functionality for some functions so that specific engines can simply implement the functionality that is supported by the specific contacts engine that is being adapted.</p>
<p>More information on writing a contacts engine plugin is available in the <a href="contactsengines.html">Qt Contacts Manager Engines</a> documentation.</p>
<p>Engines that support the <a href="qcontactmanagerengine.html">QContactManagerEngine</a> interface but not the QContactManagerEngineV2 interface will be wrapped by the <a href="qcontactmanager.html">QContactManager</a> by a class that emulates the extra functionality of the QContactManagerEngineV2 interface.</p>
</div>
<p>See also <a href="qcontactmanagerengine.html">QContactManagerEngine</a>, <a href="qcontactmanager.html">QContactManager</a>, and <a href="qcontactmanagerenginefactory.html">QContactManagerEngineFactory</a>.</p>
<!-- @@@QContactManagerEngineV2 -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QContactManagerEngineV2[overload1]$$$QContactManagerEngineV2 -->
<h3 class="fn"><a name="QContactManagerEngineV2"></a>QContactManagerEngineV2::QContactManagerEngineV2 ()</h3>
<p>Constructs an empty <a href="qcontactmanagerenginev2.html">QContactManagerEngineV2</a>.</p>
<!-- @@@QContactManagerEngineV2 -->
<!-- $$$contacts[overload1]$$$contactsconstQContactFilter&constQList<QContactSortOrder>&constQContactFetchHint&QContactManager::Error* -->
<h3 class="fn"><a name="contacts"></a><a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontact.html">QContact</a>&gt; QContactManagerEngineV2::contacts ( const <a href="qcontactfilter.html">QContactFilter</a> &amp; <i>filter</i>, const <a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontactsortorder.html">QContactSortOrder</a>&gt; &amp; <i>sortOrders</i>, const <a href="qcontactfetchhint.html">QContactFetchHint</a> &amp; <i>fetchHint</i>, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a> * <i>error</i> ) const<tt> [virtual]</tt></h3>
<p>Reimplemented from <a href="qcontactmanagerengine.html#contacts">QContactManagerEngine::contacts</a>().</p>
<!-- @@@contacts -->
<!-- $$$contacts$$$contactsconstQList<QContactLocalId>&constQContactFetchHint&QMap<int,QContactManager::Error>*QContactManager::Error* -->
<h3 class="fn"><a name="contacts-2"></a><a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontact.html">QContact</a>&gt; QContactManagerEngineV2::contacts ( const <a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontactid.html#QContactLocalId-typedef">QContactLocalId</a>&gt; &amp; <i>localIds</i>, const <a href="qcontactfetchhint.html">QContactFetchHint</a> &amp; <i>fetchHint</i>, <a href="http://qt.nokia.com/doc/4.7/qmap.html">QMap</a>&lt;int, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a>&gt; * <i>errorMap</i>, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a> * <i>error</i> ) const<tt> [virtual]</tt></h3>
<p>Returns the list of contacts with the ids given by <i>localIds</i>. There is a one-to-one correspondence between the returned contacts and the supplied <i>localIds</i>.</p>
<p>If there is an invalid id in <i>localIds</i>, then an empty <a href="qcontact.html">QContact</a> will take its place in the returned list and an entry will be inserted into <i>errorMap</i>.</p>
<p>The overall operation error will be saved in <i>error</i>.</p>
<p>The <i>fetchHint</i> parameter describes the optimization hints that a manager may take. If the <i>fetchHint</i> is the default constructed hint, all existing details, relationships and action preferences in the matching contacts will be returned.</p>
<p>If a non-default fetch hint is supplied, and the client wishes to make changes to the contacts, they should ensure that only a detail definition hint is supplied and that when saving it back, a definition mask should be used which corresponds to the detail definition hint. This is to ensure that no data is lost by overwriting an existing contact with a restricted version of it.</p>
<p>See also <a href="qcontactfetchhint.html">QContactFetchHint</a>.</p>
<!-- @@@contacts -->
<!-- $$$saveContacts[overload1]$$$saveContactsQList<QContact>*QMap<int,QContactManager::Error>*QContactManager::Error* -->
<h3 class="fn"><a name="saveContacts"></a>bool QContactManagerEngineV2::saveContacts ( <a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontact.html">QContact</a>&gt; * <i>contacts</i>, <a href="http://qt.nokia.com/doc/4.7/qmap.html">QMap</a>&lt;int, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a>&gt; * <i>errorMap</i>, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a> * <i>error</i> )<tt> [virtual]</tt></h3>
<p>Reimplemented from <a href="qcontactmanagerengine.html#saveContacts">QContactManagerEngine::saveContacts</a>().</p>
<!-- @@@saveContacts -->
<!-- $$$saveContacts$$$saveContactsQList<QContact>*constQStringList&QMap<int,QContactManager::Error>*QContactManager::Error* -->
<h3 class="fn"><a name="saveContacts-2"></a>bool QContactManagerEngineV2::saveContacts ( <a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontact.html">QContact</a>&gt; * <i>contacts</i>, const <a href="http://qt.nokia.com/doc/4.7/qstringlist.html">QStringList</a> &amp; <i>definitionMask</i>, <a href="http://qt.nokia.com/doc/4.7/qmap.html">QMap</a>&lt;int, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a>&gt; * <i>errorMap</i>, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a> * <i>error</i> )<tt> [virtual]</tt></h3>
<p>For each contact in <i>contacts</i>, either add it to the database or update an existing one.</p>
<p>This function accepts a <i>definitionMask</i>, which specifies which details of the contacts should be updated. Details with definition names not included in the definitionMask will not be updated or added.</p>
<p>The manager should populate <i>errorMap</i> (the map of indices of the <i>contacts</i> list to the error which occurred when saving the contact at that index) for every index for which the contact could not be saved, if it is able.</p>
<p>The supplied <i>errorMap</i> parameter may be null, if the client does not desire detailed error information. If supplied, it will be empty upon entry to this function.</p>
<p>The <a href="qcontactmanager.html#error">QContactManager::error</a>() function will only return <tt>QContactManager::NoError</tt> if all contacts were saved successfully.</p>
<p>For each newly saved contact that was successful, the id of the contact in the <i>contacts</i> list will be updated with the new value. If a failure occurs when saving a new contact, the id will be cleared.</p>
<p>Any errors encountered during this operation should be stored to <i>error</i>.</p>
<!-- @@@saveContacts -->
<!-- $$$updateContactFetchByIdRequest[overload1]$$$updateContactFetchByIdRequestQContactFetchByIdRequest*constQList<QContact>&QContactManager::ErrorconstQMap<int,QContactManager::Error>&QContactAbstractRequest::State -->
<h3 class="fn"><a name="updateContactFetchByIdRequest"></a>void QContactManagerEngineV2::updateContactFetchByIdRequest ( <a href="qcontactfetchbyidrequest.html">QContactFetchByIdRequest</a> * <i>req</i>, const <a href="http://qt.nokia.com/doc/4.7/qlist.html">QList</a>&lt;<a href="qcontact.html">QContact</a>&gt; &amp; <i>result</i>, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a> <i>error</i>, const <a href="http://qt.nokia.com/doc/4.7/qmap.html">QMap</a>&lt;int, <a href="qcontactmanager.html#Error-enum">QContactManager::Error</a>&gt; &amp; <i>errorMap</i>, <a href="qcontactabstractrequest.html#State-enum">QContactAbstractRequest::State</a> <i>newState</i> )<tt> [static]</tt></h3>
<p>Updates the given <a href="qcontactfetchbyidrequest.html">QContactFetchByIdRequest</a> <i>req</i> with the latest results <i>result</i>, and operation error <i>error</i>, and map of input index to individual error <i>errorMap</i>. In addition, the state of the request will be changed to <i>newState</i>.</p>
<p>It then causes the request to emit its resultsAvailable() signal to notify clients of the request progress.</p>
<p>If the new request state is different from the previous state, the stateChanged() signal will also be emitted from the request.</p>
<!-- @@@updateContactFetchByIdRequest -->
</div>
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
